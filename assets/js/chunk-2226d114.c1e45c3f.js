(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2226d114"],{"1e4b":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-breadcrumb",{attrs:{separator:""}},[a("a-breadcrumb-item",[t._v(" 当前位置：首页 ")])],1),a("a-divider"),a("div",[t._v(" 全文检索： "),a("a-input-search",{staticStyle:{"margin-right":"30px",width:"300px"},attrs:{placeholder:"关键词/书名/作者"},on:{search:t.handleSearchList},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}}),t._v(" 分类： "),a("a-select",{staticStyle:{"margin-right":"30px",width:"250px"},attrs:{"default-value":"全部"},on:{change:t.handleCategoryChange},model:{value:t.categoryName,callback:function(e){t.categoryName=e},expression:"categoryName"}},t._l(t.catagoryOptions,(function(e){return a("a-select-option",{attrs:{value:e}},[t._v(" "+t._s(e)+" ")])})),1),t._v(" 排序: "),a("a-select",{staticStyle:{width:"250px"},attrs:{"default-value":"按出版时间排序"},on:{change:t.handleSortChange},model:{value:t.sort,callback:function(e){t.sort=e},expression:"sort"}},t._l(t.sortOptions,(function(e){return a("a-select-option",{attrs:{value:e}},[t._v(" "+t._s(e)+" ")])})),1)],1),a("div",{staticClass:"list"},[a("div",{staticClass:"bookList"},[a("ul",t._l(t.list,(function(e){return a("li",[a("div",{staticClass:"cover"},[a("img",{attrs:{src:e.pic}})]),a("div",{staticClass:"info"},[a("h2",{staticClass:"name"},[t._v(t._s(e.bookName))]),a("div",{staticClass:"otherInfo"},[a("a-breadcrumb",[a("a-breadcrumb-item",[t._v(t._s(e.author))]),a("a-breadcrumb-item",[t._v(" "+t._s(t._f("formatTime")(e.publishDate))+" ")]),a("a-breadcrumb-item",[t._v(t._s(e.press))])],1)],1),a("div",{staticClass:"priceWrap"},[a("span",{staticClass:"sellPrice"},[t._v("¥"+t._s(e.price))])]),a("p",{staticClass:"desc"},[t._v(t._s(e.description))]),a("div",{staticClass:"action"},[a("el-button",{attrs:{type:"danger",round:"",id:e.id},on:{click:function(e){return t.handleAddCart(e)}}},[t._v("加入购物车")])],1)])])})),0)]),a("a-pagination",{staticStyle:{"margin-top":"15px",float:"right"},attrs:{"page-size":10,total:t.total,"show-less-items":""},on:{change:t.handleCurrentChange},model:{value:t.pageNum,callback:function(e){t.pageNum=e},expression:"pageNum"}})],1)],1)},s=[],i=a("c466"),r=a("365c"),o=a("c750"),c={data:function(){return{keyword:"",categoryName:"全部",sort:"按出版时间排序",list:[],pageNum:1,total:1,sortOptions:["按出版时间排序","按销量排序","按价格降序","按价格升序","按相关度排序"],catagoryOptions:["全部","医学与生物学","历史与考古","哲学与宗教","商业与经济","地球与环境科学","工程与应用科学","数学、物理与化学","新闻与传播","法律、政治与政府","社会科学","艺术与建筑","语言与文学","音乐、舞蹈、戏剧与电影"]}},filters:{formatTime:function(t){var e=new Date(t);return Object(i["a"])(e,"yyyy-MM-dd")}},created:function(){this.getList()},methods:{getList:function(){var t=this,e=this.keyword,a=this.categoryName,n=this.pageNum-1,s=10,i=1;"按销量排序"==this.sort?i=2:"按价格升序"==this.sort?i=3:"按价格降序"==this.sort?i=4:"按相关度排序"==this.sort?i=5:"按出版时间排序"==this.sort&&(i=1),Object(r["b"])(e,a,n,s,i).then((function(e){t.list=e.data.content,t.total=e.data.total}))},handleSearchList:function(){this.pageNum=1,this.sort="按相关度排序",this.getList()},handleCategoryChange:function(t){this.categoryName=t,this.pageNum=1,this.getList()},handleSortChange:function(t){this.sort=t,this.pageNum=1,this.getList()},handleCurrentChange:function(t){this.pageNum=t,this.getList()},handleAddCart:function(t){var e=this,a=t.currentTarget.id,n=t.currentTarget.parentElement.previousElementSibling.previousElementSibling.firstElementChild.innerHTML.substr(1),s=Object(o["a"])("username");Object(r["a"])(s,a,n).then((function(){e.$success({title:"加入购物车成功"})}))}}},u=c,l=(a("1fe1"),a("2877")),d=Object(l["a"])(u,n,s,!1,null,null,null);e["default"]=d.exports},"1fe1":function(t,e,a){"use strict";var n=a("58f1"),s=a.n(n);s.a},"365c":function(t,e,a){"use strict";a.d(e,"b",(function(){return s})),a.d(e,"a",(function(){return i}));var n=a("b775");function s(t,e,a,s,i){return Object(n["a"])({url:"/index/list",method:"post",data:{keyword:t,categoryName:e,pageNum:a,pageSize:s,sort:i}})}function i(t,e,a){return Object(n["a"])({url:"/index/cart",method:"post",data:{username:t,bookId:e,price:a}})}},"58f1":function(t,e,a){},c750:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"a",(function(){return r}));var n=a("a78e"),s=a.n(n);function i(t,e,a){return s.a.set(t,e,{expires:a})}function r(t){return s.a.get(t)}}}]);
//# sourceMappingURL=chunk-2226d114.c1e45c3f.js.map