<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>å‰ç«¯æŠ€æœ¯ on Cuterwrite's Blog</title><link>https://cuterwrite.top/categories/frontend/</link><description>Recent content in å‰ç«¯æŠ€æœ¯ on Cuterwrite's Blog</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><copyright>cuterwrite</copyright><lastBuildDate>Tue, 18 Jun 2024 22:28:00 +0000</lastBuildDate><atom:link href="https://cuterwrite.top/categories/frontend/index.xml" rel="self" type="application/rss+xml"/><item><title>åŸºäº Workbox å®ç° Hugo æ¸è¿›å¼ Web åº”ç”¨</title><link>https://cuterwrite.top/p/hugo-pwa/</link><pubDate>Tue, 18 Jun 2024 22:28:00 +0000</pubDate><guid>https://cuterwrite.top/p/hugo-pwa/</guid><description>&lt;img src="https://cuterwrite-1302252842.file.myqcloud.com/img/2024-06-16_116406967_p0_master1200.webp" alt="Featured image of post åŸºäº Workbox å®ç° Hugo æ¸è¿›å¼ Web åº”ç”¨" />&lt;h1 id="åŸºäº-workbox-å®ç°-hugo-pwa">
&lt;a href="#%e5%9f%ba%e4%ba%8e-workbox-%e5%ae%9e%e7%8e%b0-hugo-pwa" class="header-anchor">#&lt;/a>
åŸºäº Workbox å®ç° Hugo PWA
&lt;/h1>
&lt;p>æœ€è¿‘ç»™åŸºäº &lt;a class="link" href="https://gohugo.io/" target="_blank" rel="noopener" >Hugo
&lt;span style="white-space: nowrap;">&lt;svg width=".8em" height=".8em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/a>
æ­å»ºçš„åšå®¢æ·»åŠ äº† PWA åŠŸèƒ½ï¼Œæ˜¾è‘—æå‡äº†åŠ è½½é€Ÿåº¦å’Œç”¨æˆ·ä½“éªŒï¼Œç”šè‡³å®ç°äº†ç¦»çº¿è®¿é—®ã€‚è‡³äºå¦‚ä½•å®ç°ï¼Œé‚£ä¹ˆä½ éœ€è¦äº†è§£ &lt;strong>Progressive Web Apps (PWA)&lt;/strong>ã€‚&lt;/p>
&lt;h2 id="ä»€ä¹ˆæ˜¯-pwa">
&lt;a href="#%e4%bb%80%e4%b9%88%e6%98%af-pwa" class="header-anchor">#&lt;/a>
ä»€ä¹ˆæ˜¯ PWA
&lt;/h2>
&lt;p>æ¸è¿›å¼ Web åº”ç”¨ï¼ˆProgressive Web Appsï¼Œç®€ç§° PWAï¼‰åˆ©ç”¨ç°ä»£ Web API å’Œä¼ ç»Ÿçš„æ¸è¿›å¼å¢å¼ºç­–ç•¥ï¼Œæ‰“é€ å‡ºè·¨å¹³å°çš„ Web åº”ç”¨ç¨‹åºã€‚è¿™äº›åº”ç”¨æ— å¤„ä¸åœ¨ï¼ŒåŠŸèƒ½ä¸°å¯Œï¼Œä¸ºç”¨æˆ·å¸¦æ¥åª²ç¾åŸç”Ÿåº”ç”¨çš„ä½“éªŒã€‚&lt;/p>
&lt;p>&lt;strong>PWA çš„ä¼˜åŠ¿ï¼š&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>âš¡ï¸ &lt;strong>æ›´å¿«çš„åŠ è½½é€Ÿåº¦&lt;/strong>: PWA å¯ä»¥ç¼“å­˜é‡è¦èµ„æºï¼Œå³ä½¿ç½‘ç»œçŠ¶å†µä¸ä½³ä¹Ÿèƒ½å¿«é€ŸåŠ è½½ã€‚&lt;/li>
&lt;li>âœˆï¸ &lt;strong>ç¦»çº¿è®¿é—®&lt;/strong>: PWA å¯ä»¥ç¼“å­˜å†…å®¹ï¼Œè®©ç”¨æˆ·å³ä½¿ç¦»çº¿ä¹Ÿèƒ½è®¿é—®å†…å®¹ã€‚&lt;/li>
&lt;li>ğŸ”” &lt;strong>æ¨é€é€šçŸ¥&lt;/strong>: åƒåŸç”Ÿåº”ç”¨ä¸€æ ·ï¼ŒPWA å¯ä»¥å‘ç”¨æˆ·å‘é€æ¨é€é€šçŸ¥ï¼Œæé«˜ç”¨æˆ·å‚ä¸åº¦ã€‚&lt;/li>
&lt;li>ğŸ“± &lt;strong>å®‰è£…åˆ°ä¸»å±å¹•&lt;/strong>: ç”¨æˆ·å¯ä»¥å°†ä½ çš„åº”ç”¨æ·»åŠ åˆ°ç”µè„‘æˆ–æ‰‹æœºæ¡Œé¢ï¼ŒåƒåŸç”Ÿåº”ç”¨ä¸€æ ·æµè§ˆä½ çš„ Web åº”ç”¨ã€‚&lt;/li>
&lt;/ul>
&lt;p>PWA çš„å®ç°åŸç†æ˜¯ &lt;strong>Service Worker&lt;/strong>ã€‚&lt;strong>Service Worker æ˜¯ä¸€ç§ç‰¹æ®Šçš„ JavaScript èµ„æºï¼Œåœ¨æµè§ˆå™¨åå°ç‹¬ç«‹è¿è¡Œï¼Œå……å½“ç€ç½‘ç»œæµè§ˆå™¨å’Œ Web æœåŠ¡å™¨ä¹‹é—´çš„ä»£ç†ã€‚å®ƒå¯ä»¥æ‹¦æˆªå’Œå¤„ç†ç½‘ç»œè¯·æ±‚ã€ç¼“å­˜èµ„æºä»¥åŠæ¨é€é€šçŸ¥&lt;/strong>ã€‚&lt;/p>
&lt;p>ä¸»æµçš„å‰ç«¯æ¡†æ¶ Vueã€Reactã€Angular éƒ½æä¾›äº†ç›¸åº”çš„ PWA æ’ä»¶ã€‚è€Œå¯¹äº Hugo è¿™æ ·çš„é™æ€ç½‘ç«™ç”Ÿæˆå™¨ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æ‰‹åŠ¨æ·»åŠ  &lt;a class="link" href="https://developer.chrome.com/docs/workbox" target="_blank" rel="noopener" >Workbox
&lt;span style="white-space: nowrap;">&lt;svg width=".8em" height=".8em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/a>
æ¥å®ç° PWA åŠŸèƒ½ã€‚&lt;/p>
&lt;h2 id="workbox">
&lt;a href="#workbox" class="header-anchor">#&lt;/a>
Workbox
&lt;/h2>
&lt;p>&lt;a class="link" href="https://developer.chrome.com/docs/workbox" target="_blank" rel="noopener" >Workbox
&lt;span style="white-space: nowrap;">&lt;svg width=".8em" height=".8em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/a>
æ˜¯ç”± Google Chrome å›¢é˜Ÿå¼€å‘çš„ä¸€å¥—æ¨¡å—ï¼Œæ—¨åœ¨ç®€åŒ–å¸¸è§çš„ Service Worker è·¯ç”±å’Œç¼“å­˜æ“ä½œã€‚æ¯ä¸ªæ¨¡å—éƒ½é’ˆå¯¹ Service Worker å¼€å‘çš„ç‰¹å®šæ–¹é¢è¿›è¡Œäº†ä¼˜åŒ–ã€‚Workbox çš„ç›®æ ‡æ˜¯å°½å¯èƒ½ç®€åŒ– Service Worker çš„ä½¿ç”¨ï¼ŒåŒæ—¶åœ¨éœ€è¦æ—¶çµæ´»åœ°æ»¡è¶³å¤æ‚åº”ç”¨çš„éœ€æ±‚ã€‚&lt;/p>
&lt;p>å¦‚æœæ²¡æœ‰ Workboxï¼Œæˆ‘ä»¬éœ€è¦æ‰‹åŠ¨ç¼–å†™ Service Worker æ¥ç›‘å¬ fetch äº‹ä»¶ã€ç¼“å­˜èµ„æºå¹¶å®ç°ç¦»çº¿è®¿é—®ç­‰åŠŸèƒ½ã€‚è€Œ Workbox æä¾›äº†ä¸€å¥—å·¥å…·ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬è‡ªåŠ¨ç”Ÿæˆ Service Workerï¼Œå¹¶ä¸”å†…ç½®äº†ä¸€äº›å¸¸ç”¨çš„ç¼“å­˜ç­–ç•¥ï¼Œä½¿æˆ‘ä»¬èƒ½å¤Ÿæ›´åŠ ä¸“æ³¨äºä¸šåŠ¡é€»è¾‘ã€‚&lt;/p>
&lt;h2 id="é…ç½®-pwa">
&lt;a href="#%e9%85%8d%e7%bd%ae-pwa" class="header-anchor">#&lt;/a>
é…ç½® PWA
&lt;/h2>
&lt;p>åœ¨ä¸Šä¸€èŠ‚ä¸­ï¼Œæˆ‘ä»¬äº†è§£äº† PWA çš„æ¦‚å¿µå’Œä¼˜åŠ¿ï¼Œä»¥åŠ Workbox å¦‚ä½•ç®€åŒ– Service Worker çš„å¼€å‘ã€‚æ¥ä¸‹æ¥å°†ä¸€æ­¥æ­¥åœ°ç»™ Hugo åšå®¢é…ç½® PWA åŠŸèƒ½ã€‚&lt;/p>
&lt;h3 id="æ³¨å†Œ-service-worker">
&lt;a href="#%e6%b3%a8%e5%86%8c-service-worker" class="header-anchor">#&lt;/a>
æ³¨å†Œ Service Worker
&lt;/h3>
&lt;p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦åœ¨é¡µé¢ä¸­æ³¨å†Œ Service Workerã€‚å°†ä»¥ä¸‹ä»£ç æ®µæ·»åŠ åˆ°ä½ çš„ Hugo ä¸»é¢˜çš„ &lt;code>layouts/partials/footer/custom.html&lt;/code> æ–‡ä»¶ä¸­ï¼ˆå…¶ä»–ä¸»é¢˜å¯èƒ½éœ€è¦æ ¹æ®æ–‡ä»¶ç»“æ„è¿›è¡Œè°ƒæ•´ï¼‰ï¼š&lt;/p>
&lt;pre>&lt;code class="language-javascript">&amp;lt;script&amp;gt;
// Check that service workers are registered
if ('serviceWorker' in navigator) {
// Use the window load event to keep the page load performant
window.addEventListener('load', () =&amp;gt; {
navigator.serviceWorker.register('/sw.js').then(reg =&amp;gt; {
console.log('Service worker registered with scope: ', reg.scope);
}, err =&amp;gt; {
console.log('Service worker registration failed: ', err);
});
});
}
&amp;lt;/script&amp;gt;
&lt;/code>&lt;/pre>
&lt;div class="notice notice-tip" >
&lt;div class="notice-title">&lt;svg t="1705945832245" class="icon notice-icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="19409" width="200" height="200">&lt;path d="M512 74.666667C270.933333 74.666667 74.666667 270.933333 74.666667 512S270.933333 949.333333 512 949.333333 949.333333 753.066667 949.333333 512 753.066667 74.666667 512 74.666667z m238.933333 349.866666l-2.133333 2.133334-277.333333 277.333333c-10.666667 10.666667-29.866667 12.8-42.666667 2.133333L426.666667 704l-149.333334-149.333333c-12.8-12.8-12.8-32 0-44.8 10.666667-10.666667 29.866667-12.8 42.666667-2.133334l2.133333 2.133334 125.866667 125.866666 253.866667-253.866666c10.666667-10.666667 29.866667-12.8 42.666666-2.133334l2.133334 2.133334c12.8 12.8 12.8 32 4.266666 42.666666z" fill="#ffffff" p-id="19410">&lt;/path>&lt;/svg>&lt;/div>&lt;p>æ³¨æ„ï¼š åœ¨æ³¨å†Œ Service Worker ä¹‹å‰ï¼Œä½ éœ€è¦å…ˆåˆ›å»º &lt;code>sw.js&lt;/code> æ–‡ä»¶ï¼Œæˆ‘ä»¬å°†åœ¨ä¸‹ä¸€å°èŠ‚ä¸­å®Œæˆè¿™ä¸€æ­¥éª¤ã€‚&lt;/p>&lt;/div>
&lt;p>å®Œæˆæ³¨å†Œåï¼Œä½ å¯ä»¥åœ¨æµè§ˆå™¨çš„å¼€å‘è€…å·¥å…· (F12) ä¸­çš„ &lt;strong>&amp;ldquo;Application&amp;rdquo; -&amp;gt; &amp;ldquo;Service Workers&amp;rdquo;&lt;/strong> é¢æ¿ä¸­æŸ¥çœ‹ Service Worker çš„æ³¨å†ŒçŠ¶æ€ã€‚&lt;/p>
&lt;figure>&lt;img src="https://cuterwrite-1302252842.file.myqcloud.com/img/2024-06-19_service-worker.webp"
alt="Service Worker" width="90%" loading="lazy">&lt;figcaption>
&lt;h4>Service Worker&lt;/h4>
&lt;/figcaption>
&lt;/figure>
&lt;h3 id="å¯¼å…¥-workbox">
&lt;a href="#%e5%af%bc%e5%85%a5-workbox" class="header-anchor">#&lt;/a>
å¯¼å…¥ Workbox
&lt;/h3>
&lt;p>åœ¨ä½ çš„ Hugo ç½‘ç«™æ ¹ç›®å½•ä¸‹çš„ &lt;code>static&lt;/code> æ–‡ä»¶å¤¹ä¸­åˆ›å»º &lt;code>sw.js&lt;/code> æ–‡ä»¶ã€‚ç„¶åï¼Œåœ¨ &lt;code>sw.js&lt;/code> æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹ä»£ç ï¼Œä½¿ç”¨ CDN å¯¼å…¥ Workboxï¼š&lt;/p>
&lt;pre>&lt;code class="language-javascript">importScripts('https://cdn.bootcdn.net/ajax/libs/workbox-sw/7.1.0/workbox-sw.js');
&lt;/code>&lt;/pre>
&lt;h3 id="ç¼“å­˜ç­–ç•¥">
&lt;a href="#%e7%bc%93%e5%ad%98%e7%ad%96%e7%95%a5" class="header-anchor">#&lt;/a>
ç¼“å­˜ç­–ç•¥
&lt;/h3>
&lt;p>Workbox æä¾›äº†ä¸€äº›å¸¸ç”¨çš„ç¼“å­˜ç­–ç•¥ï¼Œå¦‚ &lt;code>CacheFirst&lt;/code>ã€&lt;code>NetworkFirst&lt;/code>ã€&lt;code>StaleWhileRevalidate&lt;/code> ç­‰ã€‚è¿™é‡Œå…ˆä»‹ç»å‡ ç§å¸¸ç”¨çš„ç­–ç•¥ã€‚&lt;/p>
&lt;h4 id="cacheonly-ä»…ç¼“å­˜">
&lt;a href="#cacheonly-%e4%bb%85%e7%bc%93%e5%ad%98" class="header-anchor">#&lt;/a>
CacheOnly ä»…ç¼“å­˜
&lt;/h4>
&lt;figure>&lt;img src="https://cuterwrite-1302252842.file.myqcloud.com/img/2024-06-19_cache-6850d07d742bf_1440.webp"
alt="CacheOnly" width="90%" loading="lazy">&lt;figcaption>
&lt;h4>CacheOnly&lt;/h4>
&lt;/figcaption>
&lt;/figure>
&lt;p>å¼ºåˆ¶å“åº”æ¥è‡ªç¼“å­˜ã€‚&lt;/p>
&lt;pre>&lt;code class="language-javascript">workbox.routing.registerRoute(
new RegExp(regex),
new workbox.strategies.CacheOnly()
);
&lt;/code>&lt;/pre>
&lt;h4 id="networkonly-ä»…ç½‘ç»œ">
&lt;a href="#networkonly-%e4%bb%85%e7%bd%91%e7%bb%9c" class="header-anchor">#&lt;/a>
NetworkOnly ä»…ç½‘ç»œ
&lt;/h4>
&lt;figure>&lt;img src="https://cuterwrite-1302252842.file.myqcloud.com/img/2024-06-19_network-48f46158a5575_1440.webp"
alt="NetworkOnly" width="90%" loading="lazy">&lt;figcaption>
&lt;h4>NetworkOnly&lt;/h4>
&lt;/figcaption>
&lt;/figure>
&lt;p>è¿™ç§ç¼“å­˜ç­–ç•¥å¼ºåˆ¶è¦æ±‚æ‰€æœ‰è¯·æ±‚éƒ½ä»ç½‘ç»œè·å–æœ€æ–°æ•°æ®ï¼Œå®Œå…¨ç»•è¿‡ç¼“å­˜ã€‚&lt;/p>
&lt;pre>&lt;code class="language-javascript">workbox.routing.registerRoute(
new RegExp(regex),
new workbox.strategies.NetworkOnly()
);
&lt;/code>&lt;/pre>
&lt;h4 id="cachefirst-ä¼˜å…ˆç¼“å­˜">
&lt;a href="#cachefirst-%e4%bc%98%e5%85%88%e7%bc%93%e5%ad%98" class="header-anchor">#&lt;/a>
CacheFirst ä¼˜å…ˆç¼“å­˜
&lt;/h4>
&lt;figure>&lt;img src="https://cuterwrite-1302252842.file.myqcloud.com/img/2024-06-19_cache-falling-to-networ-f4c1aa5570621_1440.webp"
alt="CacheFirst" width="90%" loading="lazy">&lt;figcaption>
&lt;h4>CacheFirst&lt;/h4>
&lt;/figcaption>
&lt;/figure>
&lt;p>è¿™ç§ç¼“å­˜ç­–ç•¥ä»¥é€Ÿåº¦ä¸ºä¼˜å…ˆï¼Œä¼šé¦–å…ˆå°è¯•ä»ç¼“å­˜ä¸­è·å–å“åº”ï¼Œä»¥å°½å¿«å‘ç”¨æˆ·æ˜¾ç¤ºå†…å®¹ã€‚å¦‚æœç¼“å­˜ä¸­æ²¡æœ‰æ‰€éœ€æ•°æ®ï¼Œå®ƒæ‰ä¼šå‘ç½‘ç»œå‘èµ·è¯·æ±‚è·å–æ•°æ®ã€‚&lt;/p>
&lt;pre>&lt;code class="language-javascript">workbox.routing.registerRoute(
new RegExp(regex),
new workbox.strategies.CacheFirst()
);
&lt;/code>&lt;/pre>
&lt;h4 id="networkfirst-ä¼˜å…ˆç½‘ç»œ">
&lt;a href="#networkfirst-%e4%bc%98%e5%85%88%e7%bd%91%e7%bb%9c" class="header-anchor">#&lt;/a>
NetworkFirst ä¼˜å…ˆç½‘ç»œ
&lt;/h4>
&lt;figure>&lt;img src="https://cuterwrite-1302252842.file.myqcloud.com/img/2024-06-19_network-falling-to-cache-39d267a044b35_1440.webp"
alt="NetworkFirst" width="90%" loading="lazy">&lt;figcaption>
&lt;h4>NetworkFirst&lt;/h4>
&lt;/figcaption>
&lt;/figure>
&lt;p>è¿™ç§ç¼“å­˜ç­–ç•¥ä¼˜å…ˆä½¿ç”¨æœ€æ–°æ•°æ®ï¼Œå› æ­¤ä¼šé¦–å…ˆå°è¯•ä»ç½‘ç»œè·å–å“åº”ã€‚å¦‚æœç½‘ç»œè¯·æ±‚å¤±è´¥ï¼Œä¾‹å¦‚ç”¨æˆ·ç¦»çº¿æˆ–ç½‘ç»œè¿æ¥ä¸ç¨³å®šï¼Œå®ƒä¼šå›é€€ä½¿ç”¨ç¼“å­˜ä¸­çš„æ•°æ®ï¼Œç¡®ä¿ç”¨æˆ·ä»ç„¶å¯ä»¥è®¿é—®å†…å®¹ã€‚&lt;/p>
&lt;pre>&lt;code class="language-javascript">workbox.routing.registerRoute(
new RegExp(regex),
new workbox.strategies.NetworkFirst()
);
&lt;/code>&lt;/pre>
&lt;h4 id="stalewhilerevalidate-è¯»å–ç¼“å­˜åŒæ—¶å‘èµ·ç½‘ç»œè¯·æ±‚">
&lt;a href="#stalewhilerevalidate-%e8%af%bb%e5%8f%96%e7%bc%93%e5%ad%98%e5%90%8c%e6%97%b6%e5%8f%91%e8%b5%b7%e7%bd%91%e7%bb%9c%e8%af%b7%e6%b1%82" class="header-anchor">#&lt;/a>
StaleWhileRevalidate è¯»å–ç¼“å­˜ï¼ŒåŒæ—¶å‘èµ·ç½‘ç»œè¯·æ±‚
&lt;/h4>
&lt;figure>&lt;img src="https://cuterwrite-1302252842.file.myqcloud.com/img/2024-06-19_cache-network-873b1ec5f25cc_1440.webp"
alt="StaleWhileRevalidate" width="90%" loading="lazy">&lt;figcaption>
&lt;h4>StaleWhileRevalidate&lt;/h4>
&lt;/figcaption>
&lt;/figure>
&lt;p>è¿™ç§ç¼“å­˜ç­–ç•¥ä¼˜å…ˆè¿”å›ç¼“å­˜å†…å®¹ï¼ˆå¦‚æœæœ‰ï¼‰ã€‚å³ä½¿ç¼“å­˜å†…å®¹æœ‰æ•ˆï¼Œå®ƒä¹Ÿä¼šåœ¨åå°å‘èµ·ç½‘ç»œè¯·æ±‚ä»¥è·å–æœ€æ–°æ•°æ®ï¼Œä¿è¯ç”¨æˆ·æœ€ç»ˆèƒ½çœ‹åˆ°æœ€æ–°å†…å®¹ã€‚è™½ç„¶è¿™ç§ç­–ç•¥èƒ½ç¡®ä¿ç”¨æˆ·å®šæœŸæ›´æ–°ç¼“å­˜ï¼Œä½†ä¹Ÿæ„å‘³ç€æ¯æ¬¡è¯·æ±‚éƒ½ä¼šäº§ç”Ÿç½‘ç»œæµé‡ï¼Œå³ä½¿æ•°æ®æ²¡æœ‰å˜åŒ–ï¼Œä¹Ÿæ¯”è¾ƒæµªè´¹å¸¦å®½ã€‚&lt;/p>
&lt;pre>&lt;code class="language-javascript">workbox.routing.registerRoute(
new RegExp(regex),
new workbox.strategies.StaleWhileRevalidate()
);
&lt;/code>&lt;/pre>
&lt;h4 id="ç­–ç•¥é…ç½®">
&lt;a href="#%e7%ad%96%e7%95%a5%e9%85%8d%e7%bd%ae" class="header-anchor">#&lt;/a>
ç­–ç•¥é…ç½®
&lt;/h4>
&lt;p>Workbox ä¸ä»…æä¾›ä¸Šè¿°ç­–ç•¥ï¼Œè¿˜å…è®¸é€šè¿‡ cacheNameã€plugins å’Œ expiration ç­‰é…ç½®é¡¹è¿›è¡Œè‡ªå®šä¹‰ã€‚ä½ å¯ä»¥é€šè¿‡å®šä¹‰è¦ä½¿ç”¨çš„æ’ä»¶æ¥è‡ªå®šä¹‰è·¯ç”±è¡Œä¸ºã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥é…ç½®ç¼“å­˜åç§°ã€ç¼“å­˜æœ‰æ•ˆæœŸä»¥åŠå¯ç¼“å­˜çš„å“åº”çŠ¶æ€ç ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p>
&lt;pre>&lt;code class="language-javascript">workbox.routing.registerRoute(
new RegExp(regex),
new workbox.strategies.CacheFirst({
cacheName: 'my-cache',
plugins: [
new workbox.expiration.ExpirationPlugin({
maxEntries: 60,
maxAgeSeconds: 30 * 24 * 60 * 60, // 30 Days
}),
new workbox.cacheableResponse.CacheableResponsePlugin({
statuses: [0, 200],
}),
],
})
);
&lt;/code>&lt;/pre>
&lt;h3 id="æœ¬ç«™é…ç½®">
&lt;a href="#%e6%9c%ac%e7%ab%99%e9%85%8d%e7%bd%ae" class="header-anchor">#&lt;/a>
æœ¬ç«™é…ç½®
&lt;/h3>
&lt;h4 id="å…¨å±€é…ç½®">
&lt;a href="#%e5%85%a8%e5%b1%80%e9%85%8d%e7%bd%ae" class="header-anchor">#&lt;/a>
å…¨å±€é…ç½®
&lt;/h4>
&lt;p>ä»¥ä¸‹æ˜¯å…¨å±€ç¼“å­˜é…ç½®ï¼š&lt;/p>
&lt;pre>&lt;code class="language-javascript">// ç¼“å­˜ç‰ˆæœ¬å·
let cacheVersion = '-240619';
// æœ€å¤§æ¡ç›®æ•°
const maxEntries = 100;
&lt;/code>&lt;/pre>
&lt;h4 id="twitto-é…ç½®">
&lt;a href="#twitto-%e9%85%8d%e7%bd%ae" class="header-anchor">#&lt;/a>
Twitto é…ç½®
&lt;/h4>
&lt;p>ä¸ºäº†ç¡®ä¿ç”¨æˆ·å³ä½¿åœ¨ç¦»çº¿çŠ¶æ€ä¸‹ä¹Ÿèƒ½æŸ¥çœ‹è¯„è®ºï¼ŒTwitto è¯„è®º API é‡‡ç”¨äº† &lt;code>NetworkFirst&lt;/code> ç¼“å­˜ç­–ç•¥ã€‚è¿™æ„å‘³ç€æµè§ˆå™¨ä¼šä¼˜å…ˆå°è¯•ä»ç½‘ç»œè·å–æœ€æ–°æ•°æ®ï¼Œå¦‚æœç½‘ç»œä¸å¯ç”¨ï¼Œåˆ™ä½¿ç”¨ç¼“å­˜ä¸­çš„æ•°æ®ã€‚&lt;/p>
&lt;pre>&lt;code class="language-javascript">workbox.routing.registerRoute(
new RegExp('^https://comment\.cuterwrite\.top'),
new workbox.strategies.NetworkFirst({
plugins: [
new workbox.expiration.ExpirationPlugin({
maxEntries: maxEntries,
maxAgeSeconds: 30 * 24 * 60 * 60,
}),
new workbox.cacheableResponse.CacheableResponsePlugin({
statuses: [0, 200],
}),
],
})
);
&lt;/code>&lt;/pre>
&lt;h4 id="rss-ä¸-sitemap-é…ç½®">
&lt;a href="#rss-%e4%b8%8e-sitemap-%e9%85%8d%e7%bd%ae" class="header-anchor">#&lt;/a>
RSS ä¸ Sitemap é…ç½®
&lt;/h4>
&lt;p>ä¸ºäº†ç¡®ä¿ç”¨æˆ·å§‹ç»ˆè·å–æœ€æ–°çš„ RSS å’Œ Sitemap æ•°æ®ï¼Œè¿™äº›é¡µé¢é…ç½®ä¸ºä»…ä½¿ç”¨ç½‘ç»œç­–ç•¥ (&lt;code>NetworkOnly&lt;/code>)ï¼Œä¸è¿›è¡Œç¼“å­˜ã€‚&lt;/p>
&lt;pre>&lt;code class="language-javascript">workbox.routing.registerRoute(
new RegExp('^https://cuterwrite\.top/(index|sitemap)\.xml'),
new workbox.strategies.NetworkOnly()
);
&lt;/code>&lt;/pre>
&lt;h4 id="html-é…ç½®">
&lt;a href="#html-%e9%85%8d%e7%bd%ae" class="header-anchor">#&lt;/a>
HTML é…ç½®
&lt;/h4>
&lt;p>ä¸ºäº†åœ¨ä¿è¯ç”¨æˆ·å¿«é€ŸåŠ è½½é¡µé¢çš„åŒæ—¶ï¼Œä¹Ÿèƒ½è·å–åˆ°æœ€æ–°å†…å®¹ï¼Œç½‘ç«™å¯¹ HTML é¡µé¢é‡‡ç”¨äº† &lt;code>StaleWhileRevalidate&lt;/code> ç¼“å­˜ç­–ç•¥ã€‚è¿™æ„å‘³ç€æµè§ˆå™¨ä¼šä¼˜å…ˆä½¿ç”¨ç¼“å­˜ä¸­çš„é¡µé¢è¿›è¡Œå±•ç¤ºï¼ŒåŒæ—¶åœ¨åå°å‘æœåŠ¡å™¨å‘èµ·è¯·æ±‚ï¼Œè·å–æœ€æ–°ç‰ˆæœ¬ï¼Œå¹¶åœ¨ä¸‹æ¬¡è¯·æ±‚æ—¶ä½¿ç”¨ã€‚&lt;/p>
&lt;pre>&lt;code class="language-javascript">workbox.routing.registerRoute(
new RegExp('.*\.html'),
new workbox.strategies.StaleWhileRevalidate({
cacheName: 'html-cache' + cacheVersion,
plugins: [
new workbox.expiration.ExpirationPlugin({
maxEntries: maxEntries,
maxAgeSeconds: 30 * 24 * 60 * 60,
}),
new workbox.cacheableResponse.CacheableResponsePlugin({
statuses: [0, 200],
}),
],
})
);
&lt;/code>&lt;/pre>
&lt;h4 id="google-fonts-é…ç½®">
&lt;a href="#google-fonts-%e9%85%8d%e7%bd%ae" class="header-anchor">#&lt;/a>
Google Fonts é…ç½®
&lt;/h4>
&lt;p>ä¸ºäº†åœ¨ä¿è¯å­—ä½“æ–‡ä»¶æ›´æ–°çš„åŒæ—¶ï¼Œä¹Ÿèƒ½åˆ©ç”¨ç¼“å­˜åŠ é€Ÿé¡µé¢åŠ è½½é€Ÿåº¦ï¼Œç½‘ç«™å¯¹ Google Fonts èµ„æºé‡‡ç”¨äº† &lt;code>CacheFirst&lt;/code> ç¼“å­˜ç­–ç•¥ï¼Œå¹¶è®¾ç½®äº†è¾ƒé•¿çš„ç¼“å­˜è¿‡æœŸæ—¶é—´ã€‚&lt;/p>
&lt;pre>&lt;code class="language-javascript">workbox.routing.registerRoute(
new RegExp('.*\.(?:woff|woff2|ttf|otf|eot)'),
new workbox.strategies.StaleWhileRevalidate({
cacheName: 'google-fonts' + cacheVersion,
plugins: [
// ä½¿ç”¨ expiration æ’ä»¶å®ç°ç¼“å­˜æ¡ç›®æ•°ç›®å’Œæ—¶é—´æ§åˆ¶
new workbox.expiration.ExpirationPlugin({
// æœ€å¤§ç¼“å­˜æ¡ç›®æ•°
maxEntries: maxEntries,
// æœ€é•¿ç¼“å­˜æ—¶é—´ 30 å¤©
maxAgeSeconds: 30 * 24 * 60 * 60,
}),
// ä½¿ç”¨ cacheableResponse æ’ä»¶ç¼“å­˜çŠ¶æ€ç ä¸º 0 çš„è¯·æ±‚
new workbox.cacheableResponse.CacheableResponsePlugin({
statuses: [0, 200],
}),
],
})
);
&lt;/code>&lt;/pre>
&lt;h4 id="cdn-é…ç½®">
&lt;a href="#cdn-%e9%85%8d%e7%bd%ae" class="header-anchor">#&lt;/a>
CDN é…ç½®
&lt;/h4>
&lt;p>ä¸ºäº†æœ€å¤§ç¨‹åº¦åœ°åˆ©ç”¨ç¼“å­˜åŠ é€Ÿé¡µé¢åŠ è½½é€Ÿåº¦ï¼Œç½‘ç«™å¯¹æ¥è‡ªå¸¸ç”¨ CDN çš„èµ„æºé‡‡ç”¨äº† &lt;code>CacheFirst&lt;/code> ç¼“å­˜ç­–ç•¥ï¼Œå¹¶è®¾ç½®äº†è¾ƒé•¿çš„ç¼“å­˜è¿‡æœŸæ—¶é—´ã€‚&lt;/p>
&lt;pre>&lt;code class="language-javascript">workbox.routing.registerRoute(
new RegExp('^https://(?:cdn\.bootcdn\.net|unpkg\.com|cdn\.jsdelivr\.net)'),
new workbox.strategies.CacheFirst({
cacheName: 'cdn' + cacheVersion,
fetchOptions: {
mode: 'cors',
credentials: 'omit',
},
plugins: [
new workbox.expiration.ExpirationPlugin({
maxEntries: maxEntries,
maxAgeSeconds: 30 * 24 * 60 * 60,
}),
],
})
);
&lt;/code>&lt;/pre>
&lt;h4 id="umani-ç½‘ç«™ç»Ÿè®¡é…ç½®">
&lt;a href="#umani-%e7%bd%91%e7%ab%99%e7%bb%9f%e8%ae%a1%e9%85%8d%e7%bd%ae" class="header-anchor">#&lt;/a>
Umani ç½‘ç«™ç»Ÿè®¡é…ç½®
&lt;/h4>
&lt;p>ä¸ºäº†ç¡®ä¿ç½‘ç«™ç»Ÿè®¡æ•°æ®çš„å‡†ç¡®æ€§ï¼Œç½‘ç«™å¯¹ Umani ç½‘ç«™ç»Ÿè®¡è¯·æ±‚é‡‡ç”¨äº† &lt;code>NetworkOnly&lt;/code> ç­–ç•¥ï¼Œå¹¶ä½¿ç”¨ &lt;code>BackgroundSyncPlugin&lt;/code> æ’ä»¶æ¥å®ç°å³ä½¿åœ¨ç½‘ç»œç¦»çº¿çš„æƒ…å†µä¸‹ä¹Ÿèƒ½ä¿è¯æ•°æ®æœ€ç»ˆå‘é€æˆåŠŸã€‚&lt;/p>
&lt;pre>&lt;code class="language-javascript">workbox.routing.registerRoute(
new RegExp('^https://analytics\.cuterwrite\.top/uma'),
new workbox.strategies.NetworkOnly({
plugins: [
// ä½¿ç”¨ background sync æ’ä»¶å®ç°åå°åŒæ­¥
new workbox.backgroundSync.BackgroundSyncPlugin('Optical_Collect', {
maxRetentionTime: 12 * 60,
}),
],
})
);
&lt;/code>&lt;/pre>
&lt;h4 id="å›¾ç‰‡é…ç½®">
&lt;a href="#%e5%9b%be%e7%89%87%e9%85%8d%e7%bd%ae" class="header-anchor">#&lt;/a>
å›¾ç‰‡é…ç½®
&lt;/h4>
&lt;p>ä¸ºäº†åŠ é€Ÿå›¾ç‰‡åŠ è½½é€Ÿåº¦ï¼Œå¹¶å‡å°‘ç½‘ç»œè¯·æ±‚æ¬¡æ•°ï¼Œç½‘ç«™å¯¹å›¾ç‰‡èµ„æºé‡‡ç”¨äº† &lt;code>CacheFirst&lt;/code> ç¼“å­˜ç­–ç•¥ï¼Œå¹¶è®¾ç½®äº†è¾ƒé•¿çš„ç¼“å­˜è¿‡æœŸæ—¶é—´ã€‚&lt;/p>
&lt;pre>&lt;code class="language-javascript">workbox.routing.registerRoute(
new RegExp('^(https://cuterwrite-1302252842\.file\.myqcloud\.com|https://s2\.loli\.net)'),
new workbox.strategies.CacheFirst({
cacheName: 'image-cache' + cacheVersion,
plugins: [
new workbox.expiration.ExpirationPlugin({
maxEntries: maxEntries,
maxAgeSeconds: 30 * 24 * 60 * 60,
}),
new workbox.cacheableResponse.CacheableResponsePlugin({
statuses: [0, 200],
}),
],
})
);
&lt;/code>&lt;/pre>
&lt;h4 id="åç¼€åŒ¹é…é…ç½®">
&lt;a href="#%e5%90%8e%e7%bc%80%e5%8c%b9%e9%85%8d%e9%85%8d%e7%bd%ae" class="header-anchor">#&lt;/a>
åç¼€åŒ¹é…é…ç½®
&lt;/h4>
&lt;p>ä¸ºäº†å…¼é¡¾åŠ è½½é€Ÿåº¦å’Œå†…å®¹æ›´æ–°ï¼Œç½‘ç«™å¯¹æœªè¢«åŸŸååŒ¹é…åˆ°çš„é™æ€æ–‡ä»¶ï¼ˆä¾‹å¦‚å›¾ç‰‡ã€CSS å’Œ JavaScript æ–‡ä»¶ï¼‰é‡‡ç”¨äº† &lt;code>StaleWhileRevalidate&lt;/code> ç¼“å­˜ç­–ç•¥ã€‚&lt;/p>
&lt;pre>&lt;code class="language-javascript">workbox.routing.registerRoute(
new RegExp('.*\.(?:png|jpg|jpeg|svg|gif|webp|ico)'),
new workbox.strategies.StaleWhileRevalidate()
);
workbox.routing.registerRoute(
new RegExp('.*\.(css|js)'),
new workbox.strategies.StaleWhileRevalidate()
);
&lt;/code>&lt;/pre>
&lt;h4 id="é»˜è®¤è¡Œä¸ºé…ç½®">
&lt;a href="#%e9%bb%98%e8%ae%a4%e8%a1%8c%e4%b8%ba%e9%85%8d%e7%bd%ae" class="header-anchor">#&lt;/a>
é»˜è®¤è¡Œä¸ºé…ç½®
&lt;/h4>
&lt;p>ä¸ºäº†å¤„ç†æœªè¢«ä»»ä½•è‡ªå®šä¹‰è·¯ç”±è§„åˆ™åŒ¹é…åˆ°çš„è¯·æ±‚ï¼Œç½‘ç«™é…ç½®äº†é»˜è®¤ç¼“å­˜è¡Œä¸ºï¼Œä½¿ç”¨ &lt;code>NetworkFirst&lt;/code> ç­–ç•¥å¹¶è®¾ç½®äº†ç½‘ç»œè¶…æ—¶æ—¶é—´ï¼Œä»¥å…¼é¡¾èµ„æºè·å–é€Ÿåº¦å’Œç¦»çº¿å¯ç”¨æ€§ã€‚&lt;/p>
&lt;pre>&lt;code class="language-javascript">workbox.routing.setDefaultHandler(
// ä¼˜å…ˆä½¿ç”¨ç¼“å­˜ï¼Œç¼“å­˜æ²¡æœ‰åˆ™ä½¿ç”¨ç½‘ç»œè¯·æ±‚
new workbox.strategies.NetworkFirst({
networkTimeoutSeconds: 3,
})
);
&lt;/code>&lt;/pre>
&lt;h3 id="å®Œæ•´é…ç½®">
&lt;a href="#%e5%ae%8c%e6%95%b4%e9%85%8d%e7%bd%ae" class="header-anchor">#&lt;/a>
å®Œæ•´é…ç½®
&lt;/h3>
&lt;details>
&lt;summary>sw.js&lt;/summary>
&lt;pre>&lt;code class="language-javascript">importScripts('https://cdn.bootcdn.net/ajax/libs/workbox-sw/7.1.0/workbox-sw.js');
// ç¼“å­˜ç‰ˆæœ¬å·
let cacheVersion = '-240619';
// æœ€å¤§æ¡ç›®æ•°
const maxEntries = 100;
if (workbox) {
console.log(`Yay! Workbox is loaded ğŸ‰`);
// è¯„è®ºç¼“å­˜
workbox.routing.registerRoute(
new RegExp('^https://comment\.cuterwrite\.top'),
new workbox.strategies.NetworkFirst({
plugins: [
new workbox.expiration.ExpirationPlugin({
maxEntries: maxEntries,
maxAgeSeconds: 30 * 24 * 60 * 60,
}),
new workbox.cacheableResponse.CacheableResponsePlugin({
statuses: [0, 200],
}),
],
})
);
// rss ã€sitemap ä¸ç¼“å­˜
workbox.routing.registerRoute(
new RegExp('^https://cuterwrite\.top/(index|sitemap)\.xml'),
new workbox.strategies.NetworkOnly()
);
// ç¼“å­˜ HTML
workbox.routing.registerRoute(
new RegExp('.*\.html'),
new workbox.strategies.StaleWhileRevalidate({
cacheName: 'html-cache' + cacheVersion,
plugins: [
new workbox.expiration.ExpirationPlugin({
maxEntries: maxEntries,
maxAgeSeconds: 30 * 24 * 60 * 60,
}),
new workbox.cacheableResponse.CacheableResponsePlugin({
statuses: [0, 200],
}),
],
})
);
// ç¼“å­˜ Google Fonts
workbox.routing.registerRoute(
new RegExp('.*\.(?:woff|woff2|ttf|otf|eot)'),
new workbox.strategies.StaleWhileRevalidate({
cacheName: 'google-fonts' + cacheVersion,
plugins: [
// ä½¿ç”¨ expiration æ’ä»¶å®ç°ç¼“å­˜æ¡ç›®æ•°ç›®å’Œæ—¶é—´æ§åˆ¶
new workbox.expiration.ExpirationPlugin({
// æœ€å¤§ç¼“å­˜æ¡ç›®æ•°
maxEntries: maxEntries,
// æœ€é•¿ç¼“å­˜æ—¶é—´ 30 å¤©
maxAgeSeconds: 30 * 24 * 60 * 60,
}),
// ä½¿ç”¨ cacheableResponse æ’ä»¶ç¼“å­˜çŠ¶æ€ç ä¸º 0 çš„è¯·æ±‚
new workbox.cacheableResponse.CacheableResponsePlugin({
statuses: [0, 200],
}),
],
})
);
// ç¼“å­˜ bootcdnã€unpkgã€jsdelivr ç­‰å…¬å…±åº“ï¼Œç”¨æ­£åˆ™åŒ¹é…
workbox.routing.registerRoute(
new RegExp('^https://(?:cdn\.bootcdn\.net|unpkg\.com|cdn\.jsdelivr\.net)'),
new workbox.strategies.CacheFirst({
cacheName: 'cdn' + cacheVersion,
fetchOptions: {
mode: 'cors',
credentials: 'omit',
},
plugins: [
new workbox.expiration.ExpirationPlugin({
maxEntries: maxEntries,
maxAgeSeconds: 30 * 24 * 60 * 60,
}),
],
})
);
// è‡ªå»º UMA ç»Ÿè®¡è„šæœ¬: https://analytics.cuterwrite.top/uma
workbox.routing.registerRoute(
new RegExp('^https://analytics\.cuterwrite\.top/uma'),
new workbox.strategies.NetworkOnly({
plugins: [
// ä½¿ç”¨ background sync æ’ä»¶å®ç°åå°åŒæ­¥
new workbox.backgroundSync.BackgroundSyncPlugin('Optical_Collect', {
maxRetentionTime: 12 * 60,
}),
],
})
);
// ç¼“å­˜å­˜å‚¨æ¡¶å›¾ç‰‡ https://cuterwrite-1302252842.file.myqcloud.com/
workbox.routing.registerRoute(
new RegExp('^(https://cuterwrite-1302252842\.file\.myqcloud\.com|https://s2\.loli\.net)'),
new workbox.strategies.CacheFirst({
cacheName: 'image-cache' + cacheVersion,
plugins: [
new workbox.expiration.ExpirationPlugin({
maxEntries: maxEntries,
maxAgeSeconds: 30 * 24 * 60 * 60,
}),
new workbox.cacheableResponse.CacheableResponsePlugin({
statuses: [0, 200],
}),
],
})
);
// åç¼€åŒ¹é…ï¼Œé’ˆå¯¹å…¶ä½™æ²¡æœ‰è¢«åŸŸååŒ¹é…åˆ°çš„é™æ€æ–‡ä»¶
workbox.routing.registerRoute(
new RegExp('.*\.(?:png|jpg|jpeg|svg|gif|webp|ico)'),
new workbox.strategies.StaleWhileRevalidate()
);
workbox.routing.registerRoute(
new RegExp('.*\.(css|js)'),
new workbox.strategies.StaleWhileRevalidate()
);
// é»˜è®¤åŒ¹é…å‰©ä¸‹çš„è¯·æ±‚
workbox.routing.setDefaultHandler(
// ä¼˜å…ˆä½¿ç”¨ç¼“å­˜ï¼Œç¼“å­˜æ²¡æœ‰åˆ™ä½¿ç”¨ç½‘ç»œè¯·æ±‚
new workbox.strategies.NetworkFirst({
networkTimeoutSeconds: 3,
})
);
} else {
console.log(`Boo! Workbox didn't load ğŸ˜¬`);
}
&lt;/code>&lt;/pre>
&lt;/details>
&lt;h3 id="manifestjson">
&lt;a href="#manifestjson" class="header-anchor">#&lt;/a>
manifest.json
&lt;/h3>
&lt;ol>
&lt;li>&lt;strong>åˆ›å»º manifest.json æ–‡ä»¶&lt;/strong>&lt;/li>
&lt;/ol>
&lt;p>åœ¨ä½ çš„ Hugo åšå®¢çš„æ ¹ç›®å½• &lt;code>static&lt;/code> æ–‡ä»¶å¤¹ä¸‹åˆ›å»º &lt;code>manifest.json&lt;/code> æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶åŒ…å«äº†å…³äºä½ çš„åšå®¢çš„å…ƒæ•°æ®ï¼Œä¾‹å¦‚åç§°ã€å›¾æ ‡å’Œæ˜¾ç¤ºé€‰é¡¹ã€‚&lt;/p>
&lt;pre>&lt;code class="language-json">{
&amp;quot;name&amp;quot;: &amp;quot;ä½ çš„åšå®¢åç§°&amp;quot;,
&amp;quot;short_name&amp;quot;: &amp;quot;åšå®¢ç®€ç§°&amp;quot;,
&amp;quot;start_url&amp;quot;: &amp;quot;/&amp;quot;,
&amp;quot;display&amp;quot;: &amp;quot;standalone&amp;quot;,
&amp;quot;background_color&amp;quot;: &amp;quot;#ffffff&amp;quot;,
&amp;quot;theme_color&amp;quot;: &amp;quot;#000000&amp;quot;,
&amp;quot;icons&amp;quot;: [{
&amp;quot;src&amp;quot;: &amp;quot;/icon-192x192.png&amp;quot;,
&amp;quot;sizes&amp;quot;: &amp;quot;192x192&amp;quot;,
&amp;quot;type&amp;quot;: &amp;quot;image/png&amp;quot;
},
{
&amp;quot;src&amp;quot;: &amp;quot;/icon-512x512.png&amp;quot;,
&amp;quot;sizes&amp;quot;: &amp;quot;512x512&amp;quot;,
&amp;quot;type&amp;quot;: &amp;quot;image/png&amp;quot;
}
]
}
&lt;/code>&lt;/pre>
&lt;div class="notice notice-tip" >
&lt;div class="notice-title">&lt;svg t="1705945832245" class="icon notice-icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="19409" width="200" height="200">&lt;path d="M512 74.666667C270.933333 74.666667 74.666667 270.933333 74.666667 512S270.933333 949.333333 512 949.333333 949.333333 753.066667 949.333333 512 753.066667 74.666667 512 74.666667z m238.933333 349.866666l-2.133333 2.133334-277.333333 277.333333c-10.666667 10.666667-29.866667 12.8-42.666667 2.133333L426.666667 704l-149.333334-149.333333c-12.8-12.8-12.8-32 0-44.8 10.666667-10.666667 29.866667-12.8 42.666667-2.133334l2.133333 2.133334 125.866667 125.866666 253.866667-253.866666c10.666667-10.666667 29.866667-12.8 42.666666-2.133334l2.133334 2.133334c12.8 12.8 12.8 32 4.266666 42.666666z" fill="#ffffff" p-id="19410">&lt;/path>&lt;/svg>&lt;/div>&lt;p>æ³¨æ„ï¼šå°† icon-192x192.png å’Œ icon-512x512.png æ›¿æ¢ä¸ºä½ è‡ªå·±çš„å›¾æ ‡æ–‡ä»¶åã€‚å¹¶ç¡®ä¿å°†è¿™ä¸¤ä¸ªå›¾æ ‡æ–‡ä»¶æ”¾ç½®åœ¨ Hugo åšå®¢çš„ &lt;code>static&lt;/code> æ–‡ä»¶å¤¹ä¸­ã€‚å¦‚æœä½ æƒ³ä¿®æ”¹ä¸»é¢˜é¢œè‰²å’ŒèƒŒæ™¯é¢œè‰²ï¼Œå¯ä»¥ä¿®æ”¹ theme_color å’Œ background_color å­—æ®µã€‚&lt;/p>&lt;/div>
&lt;ol start="2">
&lt;li>&lt;strong>é“¾æ¥ manifest.json æ–‡ä»¶&lt;/strong>&lt;/li>
&lt;/ol>
&lt;p>åœ¨ä½ çš„ Hugo åšå®¢çš„ &lt;code>layouts/partials/head/custom.html&lt;/code> æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹ä»£ç ï¼Œå°† &lt;code>manifest.json&lt;/code> æ–‡ä»¶é“¾æ¥åˆ°ä½ çš„ç½‘ç«™ï¼š&lt;/p>
&lt;pre>&lt;code class="language-html">&amp;lt;link rel=&amp;quot;manifest&amp;quot; href=&amp;quot;/manifest.json&amp;quot;&amp;gt;
&lt;/code>&lt;/pre>
&lt;p>å®Œæˆä»¥ä¸Šæ­¥éª¤åï¼Œä½ çš„ Hugo åšå®¢å°±å…·å¤‡äº† PWA åŠŸèƒ½ï¼Œç”¨æˆ·å¯ä»¥åƒä½¿ç”¨åŸç”Ÿåº”ç”¨ç¨‹åºä¸€æ ·è®¿é—®ä½ çš„ç½‘ç«™ã€‚&lt;/p>
&lt;h2 id="å‚è€ƒèµ„æ–™">
&lt;a href="#%e5%8f%82%e8%80%83%e8%b5%84%e6%96%99" class="header-anchor">#&lt;/a>
å‚è€ƒèµ„æ–™
&lt;/h2>
&lt;ul>
&lt;li>
&lt;p>&lt;a class="link" href="https://web.dev/articles/offline-cookbook?hl=zh-cn" target="_blank" rel="noopener" >ç¦»çº¿å®æˆ˜å®å…¸
&lt;span style="white-space: nowrap;">&lt;svg width=".8em" height=".8em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/a>
&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://developers.google.com/web/tools/workbox" target="_blank" rel="noopener" >Workbox
&lt;span style="white-space: nowrap;">&lt;svg width=".8em" height=".8em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/a>
&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/GoogleChrome/workbox" target="_blank" rel="noopener" >Workbox Github
&lt;span style="white-space: nowrap;">&lt;svg width=".8em" height=".8em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/a>
&lt;/p>
&lt;/li>
&lt;/ul></description></item><item><title>å‰ç«¯å¼€å‘çŸ¥è¯†ç‚¹å¤ä¹ -åŸºç¡€ç¯‡</title><link>https://cuterwrite.top/p/web-development-1/</link><pubDate>Tue, 27 Apr 2021 00:00:00 +0000</pubDate><guid>https://cuterwrite.top/p/web-development-1/</guid><description>&lt;img src="https://cuterwrite-1302252842.file.myqcloud.com/blog/lake-5538757_1920.2fnhpht9u2vw.webp" alt="Featured image of post å‰ç«¯å¼€å‘çŸ¥è¯†ç‚¹å¤ä¹ -åŸºç¡€ç¯‡" />&lt;h1 id="å‰ç«¯å¼€å‘çŸ¥è¯†ç‚¹-åŸºç¡€ç¯‡">
&lt;a href="#%e5%89%8d%e7%ab%af%e5%bc%80%e5%8f%91%e7%9f%a5%e8%af%86%e7%82%b9-%e5%9f%ba%e7%a1%80%e7%af%87" class="header-anchor">#&lt;/a>
å‰ç«¯å¼€å‘çŸ¥è¯†ç‚¹-åŸºç¡€ç¯‡
&lt;/h1>
&lt;h2 id="1-cookiesessionsessionstorage-å’Œ-localstorage">
&lt;a href="#1-cookiesessionsessionstorage-%e5%92%8c-localstorage" class="header-anchor">#&lt;/a>
1 Cookieã€Sessionã€SessionStorage å’Œ LocalStorage
&lt;/h2>
&lt;p>Cookieï¼šæœåŠ¡å™¨æä¾›çš„ä¸€ç§ç”¨äºç»´æŠ¤ä¼šè¯çŠ¶æ€ä¿¡æ¯çš„æ•°æ®ï¼Œé€šè¿‡æœåŠ¡å™¨å‘é€åˆ°æµè§ˆå™¨ï¼Œæµè§ˆå™¨ä¿å­˜åœ¨æœ¬åœ°çš„ä¸€ç§çº¯æ–‡æœ¬æ–‡ä»¶ï¼Œå½“ä¸‹ä¸€æ¬¡æœ‰åŒæºçš„è¯·æ±‚æ—¶ï¼Œå°†ä¿å­˜çš„ Cookie æ•°æ®æ·»åŠ åˆ°è¯·æ±‚å¤´éƒ¨ï¼Œå‘é€ç»™æœåŠ¡ç«¯ã€‚å¯ä»¥ç”¨æ¥å®ç°è®°å½•ç”¨æˆ·ç™»å½•çŠ¶æ€ç­‰åŠŸèƒ½ã€‚&lt;/p>
&lt;p>Sessionï¼šæœåŠ¡å™¨ä¸ºäº†ä¿å­˜ç”¨æˆ·çŠ¶æ€è€Œåˆ›å»ºçš„ä¸€ä¸ªç‰¹æ®Šçš„å¯¹è±¡ã€‚åœ¨æµè§ˆå™¨ç¬¬ä¸€æ¬¡è®¿é—®æœåŠ¡å™¨æ—¶ï¼ŒæœåŠ¡å™¨ä¼šåˆ›å»ºä¸€ä¸ª session å¯¹è±¡,è¯¥å¯¹è±¡æœ‰ä¸€ä¸ªå”¯ä¸€çš„ id,å³ sessionidï¼ŒæœåŠ¡å™¨ä¼šæŠŠ sessionid ä»¥ cookie çš„å½¢å¼å‘é€ç»™æµè§ˆå™¨,å½“æµè§ˆå™¨å†æ¬¡è®¿é—®æœåŠ¡å™¨æ—¶,ä¼šæºå¸¦ cookie åœ¨è¯·æ±‚å¤´,å¯ä»¥é€šè¿‡ cookie ä¸­çš„ sessionid æ¥è®¿é—® session å¯¹è±¡ï¼Œå¯ä»¥å®ç°åœ¨ http æ— çŠ¶æ€åŸºç¡€ä¸Šå®ç°ç”¨æˆ·çŠ¶æ€ç®¡ç†ã€‚&lt;/p>
&lt;p>Cookie çš„ç‰¹ç‚¹ï¼š&lt;/p>
&lt;ol>
&lt;li>Cookie æ•°æ®å­˜æ”¾åœ¨å®¢æˆ·ç«¯ä¸Šã€‚&lt;/li>
&lt;li>Cookie æ˜¯éå®‰å…¨çš„ï¼Œç”±äºå­˜åœ¨æœ¬åœ°ï¼Œæœ‰è¢«ç›—å–çš„å¯èƒ½ã€‚&lt;/li>
&lt;li>Cookie ä¿å­˜çš„æ•°æ®ä¸èƒ½è¶…è¿‡ 4Kã€‚&lt;/li>
&lt;li>Cookie å§‹ç»ˆåœ¨åŒæºçš„ HTTP è¯·æ±‚ä¸­æºå¸¦ã€‚&lt;/li>
&lt;/ol>
&lt;p>å¦‚ä½•è®¾ç½® Cookieï¼š&lt;/p>
&lt;ol>
&lt;li>æœåŠ¡ç«¯ï¼šä½¿ç”¨ Set-Cookie çš„å“åº”å¤´éƒ¨ï¼ŒåŒ…å« 5 ä¸ªå±æ€§å€¼ expiresã€ domainã€pathã€secure å’Œ httponlyï¼Œåˆ†åˆ«ä»£è¡¨è¿‡æœŸæ—¶é—´ã€åŸŸåã€è·¯å¾„ã€å®‰å…¨ä¼ è¾“ã€æ˜¯å¦ç¦ç”¨å®¢æˆ·ç«¯ js è„šæœ¬è®¿é—®ã€‚&lt;/li>
&lt;li>å®¢æˆ·ç«¯ï¼šé€šè¿‡ JS è„šæœ¬ï¼Œä¾‹å¦‚ document.cookie&lt;/li>
&lt;/ol>
&lt;p>Cookie å’Œ Session å’ŒåŒºåˆ«ï¼š&lt;/p>
&lt;ol>
&lt;li>Cookie å­˜æ”¾åœ¨å®¢æˆ·ç«¯ï¼ŒSession å­˜æ”¾åœ¨æœåŠ¡ç«¯ã€‚&lt;/li>
&lt;li>Cookie æ˜¯éå®‰å…¨çš„ï¼Œè€ƒè™‘å®‰å…¨åº”è¯¥ä½¿ç”¨ Session&lt;/li>
&lt;li>è®¿é—®å¢å¤šæ—¶ï¼ŒæœåŠ¡å™¨å‹åŠ›æ¯”è¾ƒå¤§ï¼Œè€ƒè™‘ä½¿ç”¨ Cookie&lt;/li>
&lt;li>å•ä¸ª Cookie ä¿å­˜çš„æ•°æ®ä¸èƒ½è¶…è¿‡ 4K&lt;/li>
&lt;/ol>
&lt;p>Cookieã€SessionStorage å’Œ LocalStorage çš„åŒºåˆ«ï¼š&lt;/p>
&lt;ol>
&lt;li>Cookie å§‹ç»ˆåœ¨åŒæºçš„ HTTP è¯·æ±‚ä¸­æºå¸¦ã€‚ï¼ˆå³ä½¿ä¸éœ€è¦ï¼‰&lt;/li>
&lt;li>Cookie å¯ä»¥é™åˆ¶å¯è®¿é—®çš„ path&lt;/li>
&lt;li>å­˜å‚¨å¤§å°ï¼šCookie å­˜æ”¾æ•°æ®ä¸èƒ½è¶…è¿‡ 4kï¼ŒWebStorage å¯ä»¥è¾¾åˆ° 5M æˆ–æ›´å¤§ã€‚&lt;/li>
&lt;li>æœ‰æ•ˆæœŸä¸åŒï¼šSessionStorage åªåœ¨å½“å‰æµè§ˆå™¨çª—å£å…³é—­å‰æœ‰æ•ˆï¼ŒLocalStorage å§‹ç»ˆæœ‰æ•ˆï¼Œç”¨ä½œæŒä¹…åŒ–ï¼ŒCookie åœ¨è®¾ç½®çš„è¿‡æœŸæ—¶é—´ä¹‹å‰ä¸€ç›´æœ‰æ•ˆã€‚&lt;/li>
&lt;/ol>
&lt;p>Cookie å¸¸ç”¨åœºæ™¯ï¼š&lt;/p>
&lt;ol>
&lt;li>ä¿æŒç”¨æˆ·ç™»å½•çŠ¶æ€&lt;/li>
&lt;li>è·Ÿè¸ªç”¨æˆ·è¡Œä¸ºï¼Œè®°å½•ç”¨æˆ·é€‰é¡¹&lt;/li>
&lt;/ol>
&lt;h2 id="2-http-å’Œ-https-çš„åŒºåˆ«">
&lt;a href="#2-http-%e5%92%8c-https-%e7%9a%84%e5%8c%ba%e5%88%ab" class="header-anchor">#&lt;/a>
2 Http å’Œ Https çš„åŒºåˆ«
&lt;/h2>
&lt;p>HTTPS åŸºæœ¬åŸç†ï¼šå®¢æˆ·ç«¯ä½¿ç”¨ HTTPS URL è®¿é—®æœåŠ¡ç«¯ï¼Œè¦å»æœåŠ¡ç«¯å»ºç«‹ SSL è¿æ¥ï¼ŒæœåŠ¡ç«¯æ¥æ”¶åˆ°å®¢æˆ·ç«¯è¯·æ±‚åï¼Œä¼šå°†ç½‘ç«™çš„è¯ä¹¦ï¼ˆæºå¸¦å…¬é’¥ï¼‰è¿”å›ç»™å®¢æˆ·ç«¯ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯å¼€å§‹åå•† SSL è¿æ¥çš„å®‰å…¨ç­‰çº§ï¼Œä¹Ÿå°±æ˜¯&lt;strong>åŠ å¯†ç­‰çº§&lt;/strong>ï¼Œç„¶åä¸¤è€…é€šè¿‡åå•†ä¸€è‡´çš„å®‰å…¨ç­‰çº§ï¼Œå»ºç«‹&lt;strong>ä¼šè¯å¯†é’¥&lt;/strong>ï¼Œç„¶åå®¢æˆ·ç«¯é€šè¿‡ç½‘ç«™çš„å…¬é’¥æ¥åŠ å¯†ä¼šè¯å¯†é’¥ï¼Œä¼ ç»™ç½‘ç«™ï¼ŒæœåŠ¡ç«¯é€šè¿‡è‡ªå·±çš„&lt;strong>ç§é’¥&lt;/strong>è§£å¯†å‡ºä¼šè¯å¯†é’¥ï¼Œé€šè¿‡ä¼šè¯å¯†é’¥åŠ å¯†ä¸å®¢æˆ·ç«¯çš„é€šä¿¡ã€‚&lt;/p>
&lt;ol>
&lt;li>å®‰å…¨æ€§ï¼šHTTPS æ˜¯å®‰å…¨è¶…æ–‡æœ¬åè®®ï¼Œåœ¨ HTTP åŸºç¡€ä¸Šæœ‰æ›´å¼ºçš„å®‰å…¨æ€§ï¼Œç®€å•æ¥è¯´ï¼ŒHTTPS æ˜¯ä½¿ç”¨äº† TLS/SSL åŠ å¯†çš„ HTTP åè®®ã€‚&lt;/li>
&lt;li>ç”³è¯·è¯ä¹¦ï¼šHTTPS éœ€è¦ä½¿ç”¨ CA è¯ä¹¦ã€‚&lt;/li>
&lt;li>ä¼ è¾“åè®®ï¼šHTTP ä»¥æ˜æ–‡å½¢å¼ä¼ è¾“æ•°æ®ï¼ŒHTTPS ä»¥åŠ å¯†å½¢å¼ä¼ è¾“æ•°æ®ã€‚&lt;/li>
&lt;li>ç«¯å£å·ä¸åŒï¼šä¸€èˆ¬æ¥è¯´ï¼ŒHTTP åè®®çš„ç«¯å£ä¸º 80ï¼ŒHTTPS çš„ç«¯å£ä¸º 443&lt;/li>
&lt;li>è¿æ¥æ–¹å¼ï¼šHTTP çš„è¿æ¥ç®€å•ï¼Œæ˜¯æ— çŠ¶æ€çš„ï¼ŒHTTPS åœ¨ HTTP çš„åŸºç¡€ä¸Šä½¿ç”¨äº† SSL åè®®è¿›è¡ŒåŠ å¯†ä¼ è¾“ã€‚&lt;/li>
&lt;/ol>
&lt;h2 id="3-http20-çš„ç‰¹æ€§">
&lt;a href="#3-http20-%e7%9a%84%e7%89%b9%e6%80%a7" class="header-anchor">#&lt;/a>
3 Http2.0 çš„ç‰¹æ€§
&lt;/h2>
&lt;ol>
&lt;li>æå‡äº†è®¿é—®é€Ÿåº¦&lt;/li>
&lt;li>å…è®¸å¤šè·¯å¤ç”¨ï¼šå…è®¸åŒæ—¶é€šè¿‡å•ä¸€çš„ HTTP/2 è¿æ¥å‘é€å¤šé‡è¯·æ±‚-å“åº”ä¿¡æ¯ã€‚&lt;/li>
&lt;li>äºŒè¿›åˆ¶åˆ†å¸§ï¼šå°†æ‰€æœ‰çš„ä¼ è¾“æ•°æ®åˆ†å‰²ä¸ºæ›´å°çš„æ•°æ®å¸§ï¼Œå¹¶å¯¹å®ƒä»¬è¿›è¡ŒäºŒè¿›åˆ¶ç¼–ç ã€‚&lt;/li>
&lt;li>é¦–éƒ¨å‹ç¼©&lt;/li>
&lt;li>æœåŠ¡å™¨ç«¯æ¨é€&lt;/li>
&lt;/ol>
&lt;h2 id="4-osi-ä¸ƒå±‚æ¨¡å‹">
&lt;a href="#4-osi-%e4%b8%83%e5%b1%82%e6%a8%a1%e5%9e%8b" class="header-anchor">#&lt;/a>
4 OSI ä¸ƒå±‚æ¨¡å‹
&lt;/h2>
&lt;ol>
&lt;li>åº”ç”¨å±‚ï¼šæ–‡ä»¶ä¼ è¾“ï¼Œå¸¸ç”¨åè®® HTTPã€STMPã€FTP&lt;/li>
&lt;li>è¡¨ç¤ºå±‚ï¼šæ•°æ®æ ¼å¼åŒ–ã€ä»£ç è½¬æ¢ã€æ•°æ®åŠ å¯†&lt;/li>
&lt;li>ä¼šè¯å±‚ï¼šå»ºç«‹å’Œè§£é™¤ä¼šè¯&lt;/li>
&lt;li>ä¼ è¾“å±‚ï¼šæä¾›ç«¯å¯¹ç«¯çš„æ¥å£ï¼ŒTCP/UDP&lt;/li>
&lt;li>ç½‘ç»œå±‚ï¼šä¸ºæ•°æ®åŒ…é€‰æ‹©è·¯ç”±ï¼ŒIP/ICMP&lt;/li>
&lt;li>æ•°æ®é“¾è·¯å±‚ï¼šä¼ è¾“å¸¦æœ‰åœ°å€çš„å¸§ã€‚&lt;/li>
&lt;li>ç‰©ç†å±‚ï¼šäºŒè¿›åˆ¶çš„æ•°æ®å½¢å¼åœ¨ç‰©ç†åª’ä½“ä¸Šä¼ è¾“æ•°æ®ã€‚&lt;/li>
&lt;/ol>
&lt;h2 id="5-tcp-å’Œ-udp-çš„åŒºåˆ«">
&lt;a href="#5-tcp-%e5%92%8c-udp-%e7%9a%84%e5%8c%ba%e5%88%ab" class="header-anchor">#&lt;/a>
5 TCP å’Œ UDP çš„åŒºåˆ«
&lt;/h2>
&lt;ol>
&lt;li>TCP æ˜¯é¢å‘è¿æ¥çš„ï¼ŒUDP æ˜¯æ— è¿æ¥çš„ï¼Œå³å‘é€æ•°æ®å‰ä¸éœ€è¦å…ˆå»ºç«‹è¿æ¥ã€‚&lt;/li>
&lt;li>TCP æä¾›å¯é çš„æœåŠ¡ï¼Œæ— å·®é”™ã€ä¸ä¸¢å¤±ã€ä¸é‡å¤ã€æŒ‰åºåˆ°è¾¾ï¼ŒUDP å°½æœ€å¤§åŠªåŠ›äº¤ä»˜ã€‚ï¼ˆå¤§æ•°æ®é‡ä½¿ç”¨ TCPï¼‰&lt;/li>
&lt;li>TCP é¢å‘å­—èŠ‚æµï¼ŒUDP é¢å‘æŠ¥æ–‡ã€‚ï¼ˆUDP æ— æ‹¥å¡æ§åˆ¶ï¼Œå¯èƒ½å‡ºç°ä¸¢åŒ…ï¼‰&lt;/li>
&lt;li>TCP åªèƒ½ 1 å¯¹ 1ï¼ŒUDP æ”¯æŒ 1 å¯¹ 1 å’Œ 1 å¯¹å¤šã€‚&lt;/li>
&lt;li>TCP é¦–éƒ¨è¾ƒå¤§ä¸º 20 å­—èŠ‚ï¼ŒUDP åªæœ‰ 8 å­—èŠ‚ã€‚&lt;/li>
&lt;/ol>
&lt;h2 id="6-tcp-ä¸‰æ¬¡æ¡æ‰‹å’Œå››æ¬¡æŒ¥æ‰‹">
&lt;a href="#6-tcp-%e4%b8%89%e6%ac%a1%e6%8f%a1%e6%89%8b%e5%92%8c%e5%9b%9b%e6%ac%a1%e6%8c%a5%e6%89%8b" class="header-anchor">#&lt;/a>
6 TCP ä¸‰æ¬¡æ¡æ‰‹å’Œå››æ¬¡æŒ¥æ‰‹
&lt;/h2>
&lt;p>TCP ä¸‰æ¬¡æ¡æ‰‹ï¼šï¼ˆA ä¸ºå®¢æˆ·ç«¯ï¼ŒB ä¸ºæœåŠ¡ç«¯ï¼‰&lt;/p>
&lt;ol>
&lt;li>B å¤„äºç›‘å¬ï¼ŒA å‘ B å‘é€è¿æ¥è¯·æ±‚æŠ¥æ–‡ SYN=1ï¼ŒACK=0ï¼Œé€‰æ‹©ä¸€ä¸ªåˆå§‹çš„åºå· x&lt;/li>
&lt;li>B æ”¶åˆ°è¿æ¥è¯·æ±‚æŠ¥æ–‡ï¼Œå¦‚æœåŒæ„è¿æ¥ï¼Œåˆ™å‘ A å‘é€è¿æ¥ç¡®è®¤æŠ¥æ–‡ SYN=1ï¼ŒACK=1ï¼Œç¡®è®¤å· ack=x+1ï¼Œé€‰æ‹©åˆå§‹åºå· y&lt;/li>
&lt;li>A æ”¶åˆ° B çš„è¿æ¥ç¡®è®¤æŠ¥æ–‡ï¼Œå‘ B å‘é€ç¡®è®¤æŠ¥æ–‡ ACK=1ï¼Œç¡®è®¤å· ack=y+1ï¼Œåºå·ä¸º x+1&lt;/li>
&lt;li>B æ”¶åˆ° A çš„ç¡®è®¤ï¼Œè¿æ¥å»ºç«‹ã€‚&lt;/li>
&lt;/ol>
&lt;p>&lt;strong>ä¸‰æ¬¡æ¡æ‰‹çš„åŸå› &lt;/strong>&lt;/p>
&lt;p>ç¬¬ä¸‰æ¬¡æ¡æ‰‹é˜²æ­¢å¤±æ•ˆçš„è¿æ¥è¯·æ±‚åˆ°è¾¾æœåŠ¡å™¨ï¼Œè®©æœåŠ¡å™¨é”™è¯¯æ‰“å¼€è¿æ¥ã€‚å®¢æˆ·ç«¯å‘é€çš„è¿æ¥è¯·æ±‚å¦‚æœåœ¨ç½‘ç»œä¸­æ»ç•™ï¼Œé‚£ä¹ˆå°±ä¼šéš”å¾ˆé•¿ä¸€æ®µæ—¶é—´æ‰èƒ½æ”¶åˆ°æœåŠ¡ç«¯è¿”å›çš„ç¡®è®¤ï¼Œå¯¼è‡´ï¼šå®¢æˆ·ç«¯è¶…æ—¶é‡ä¼ é‡æ–°å»ºç«‹è¿æ¥ï¼Œè¿™æ—¶å°±ä¼šå‡ºç° 2 ä¸ª SYN è¿æ¥ã€‚å¦‚æœæœ‰ç¬¬ä¸‰æ¬¡æ¡æ‰‹ï¼Œå®¢æˆ·ç«¯ä¼šå¿½ç•¥æœåŠ¡ç«¯ä¹‹åå‘é€çš„å¯¹æ»ç•™è¿æ¥è¯·æ±‚çš„ç¡®è®¤ï¼Œä¸è¿›è¡Œç¬¬ä¸‰æ¬¡æ¡æ‰‹ï¼Œå› æ­¤å°±ä¸ä¼šæ‰“å¼€è¿æ¥ã€‚&lt;/p>
&lt;p>TCP å››æ¬¡æŒ¥æ‰‹ï¼š&lt;/p>
&lt;ol>
&lt;li>A å‘é€è¿æ¥é‡Šæ”¾æŠ¥æ–‡ FIN=1ï¼Œåºå·ä¸º u&lt;/li>
&lt;li>B æ”¶åˆ°åå‘å‡ºç¡®è®¤ ACK=1, ack=x+1, åºå·ä¸º vï¼Œæ­¤æ—¶ TCP å±äºåŠå…³é—­çŠ¶æ€ï¼ŒA ä¸èƒ½å‘æ•°æ®ï¼ŒB èƒ½å‘æ•°æ®ã€‚&lt;/li>
&lt;li>B ä¸éœ€è¦è¿æ¥æ—¶ï¼Œå‘é€è¿æ¥é‡Šæ”¾æŠ¥æ–‡ FIN=1ï¼ŒACK=1ï¼Œack=u+1ï¼Œåºå·ä¸º w&lt;/li>
&lt;li>A æ”¶åˆ°åå‘å‡ºç¡®è®¤ ACK=1ï¼Œack=w+1ï¼Œåºå·ä¸º u+1ï¼Œè¿›å…¥ TIME-WAIT çŠ¶æ€ï¼Œç­‰å¾… 2MSLï¼ˆæœ€å¤§æŠ¥æ–‡å­˜å­˜æ´»æ—¶é—´ï¼‰åé‡Šæ”¾è¿æ¥ã€‚&lt;/li>
&lt;li>B æ”¶åˆ° A çš„ç¡®è®¤åé‡Šæ”¾è¿æ¥ã€‚&lt;/li>
&lt;/ol>
&lt;h2 id="7-http-çŠ¶æ€ç ">
&lt;a href="#7-http-%e7%8a%b6%e6%80%81%e7%a0%81" class="header-anchor">#&lt;/a>
7 HTTP çŠ¶æ€ç 
&lt;/h2>
&lt;p>çŠ¶æ€ç æŒ‰ç¬¬ä¸€ä¸ªæ•°å­—åˆ†ç±»ï¼Œ1 è¡¨ç¤ºä¿¡æ¯ï¼Œ2 è¡¨ç¤ºæˆåŠŸï¼Œ3 è¡¨ç¤ºé‡å®šå‘ï¼Œ4 è¡¨ç¤ºå®¢æˆ·ç«¯é”™è¯¯ï¼Œ5 è¡¨ç¤ºæœåŠ¡ç«¯é”™è¯¯ã€‚&lt;/p>
&lt;p>å¸¸è§çŠ¶æ€ç ï¼š101 åˆ‡æ¢åè®®ã€200 æˆåŠŸã€301 æ°¸ä¹…é‡å®šå‘ã€302 ä¸´æ—¶é‡å®šå‘ã€304 æœªä¿®æ”¹ã€400 è¯·æ±‚æ— æ•ˆã€401 æœªè®¤è¯ã€403 æ‹’ç»æ‰§è¡Œã€404 æœªæ‰¾åˆ°èµ„æº&lt;/p>
&lt;p>200 å’Œ 304 çš„åŒºåˆ«ï¼š&lt;/p>
&lt;ol>
&lt;li>200 æ˜¯è¯·æ±‚æˆåŠŸï¼Œä¸€èˆ¬ç”¨äº GET å’Œ POST&lt;/li>
&lt;li>304 æ˜¯æœªä¿®æ”¹ï¼Œæ‰€è¯·æ±‚çš„èµ„æºæœªä¿®æ”¹ï¼ŒæœåŠ¡å™¨è¿”å›æ­¤çŠ¶æ€ç æ—¶ï¼Œä¸ä¼šè¿”å›ä»»ä½•èµ„æºï¼Œå®¢æˆ·ç«¯é€šè¿‡ç¼“å­˜è®¿é—®èµ„æºï¼ˆåå•†ç¼“å­˜ï¼‰ã€‚&lt;/li>
&lt;/ol>
&lt;h2 id="8-http-ç¼“å­˜æœºåˆ¶">
&lt;a href="#8-http-%e7%bc%93%e5%ad%98%e6%9c%ba%e5%88%b6" class="header-anchor">#&lt;/a>
8 HTTP ç¼“å­˜æœºåˆ¶
&lt;/h2>
&lt;ol>
&lt;li>å¼ºç¼“å­˜ï¼šè¿”å›çŠ¶æ€ç ä¸º 200ï¼Œä¸ä¼šå‘æœåŠ¡ç«¯å‘é€è¯·æ±‚ï¼Œç›´æ¥ä»ç¼“å­˜å–èµ„æºã€‚ç›¸å…³å­—æ®µæœ‰ pragmaã€expiresã€cache-controlï¼ˆcache-control ä¼˜å…ˆçº§æ›´é«˜ï¼Œpragma ä¼˜å…ˆçº§æœ€é«˜ï¼‰ã€‚&lt;/li>
&lt;li>åå•†ç¼“å­˜ï¼šè¿”å›çŠ¶æ€ç ä¸º 304ï¼Œä¼šå‘æœåŠ¡ç«¯å‘é€è¯·æ±‚ï¼Œé€šè¿‡æœåŠ¡å™¨å‘ŠçŸ¥ç¼“å­˜æ˜¯å¦å¯ç”¨ã€‚ç›¸å…³å­—æ®µæœ‰ Last-Modified/If-Modified-Sinceï¼ŒEtag/If-None-Match&lt;/li>
&lt;/ol>
&lt;p>ç¼“å­˜æµç¨‹ï¼š&lt;/p>
&lt;ol>
&lt;li>ç¼“å­˜æ˜¯å¦è¿‡æœŸï¼šæœªè¿‡æœŸï¼Œåˆ™ä»ç¼“å­˜è¯»å–ï¼ˆå¼ºç¼“å­˜ï¼‰ï¼Œå¦åˆ™ä¸‹ä¸€æ­¥ã€‚&lt;/li>
&lt;li>Etag å€¼ï¼šTrueï¼Œå‘æœåŠ¡ç«¯å‘é€å¸¦ If-None-Match çš„è¯·æ±‚ï¼Œå¦åˆ™ç»§ç»­åˆ¤æ–­ Last-Modified&lt;/li>
&lt;li>Last-Modified ä¸º Trueï¼Œå‘æœåŠ¡ç«¯å‘é€å¸¦ If-Modified-Since çš„è¯·æ±‚ï¼Œå¦åˆ™æ­£å¼å‘é€è¯·æ±‚ï¼Œç›¸åº”åç¼“å­˜åå•†ã€‚ã€‚ï¼ˆæ— ç¼“å­˜ï¼‰&lt;/li>
&lt;li>æœåŠ¡å™¨æ ¹æ® If-None-Match å’Œ If-Modified-Since å†³ç­–è¿”å› 200 è¿˜æ˜¯ 304ï¼Œ304 åˆ™ä»ç¼“å­˜è¯»å–ï¼ˆåå•†ç¼“å­˜ï¼‰ï¼Œ200 åˆ™èµ°æ­£å¸¸è¯·æ±‚ã€‚&lt;/li>
&lt;/ol>
&lt;h2 id="9-xss-æ”»å‡»å’Œ-csrf-æ”»å‡»">
&lt;a href="#9-xss-%e6%94%bb%e5%87%bb%e5%92%8c-csrf-%e6%94%bb%e5%87%bb" class="header-anchor">#&lt;/a>
9 XSS æ”»å‡»å’Œ CSRF æ”»å‡»
&lt;/h2>
&lt;p>XSS æ”»å‡»ï¼šè·¨ç«™è„šæœ¬æ”»å‡»ï¼Œç›—å– Cookieï¼Œåœ¨è¿”å›çš„ HTML ä¸­åµŒå…¥ js è„šæœ¬ï¼Œé˜²èŒƒæ–¹æ³•ï¼šç”¨æˆ·è¾“å…¥æ£€æŸ¥ï¼ˆè¿‡æ»¤ç‰¹æ®Šå­—ç¬¦ç­‰ï¼‰ã€è®¾ç½® set-cookie çš„ httponly å±æ€§ã€‚&lt;/p>
&lt;p>CSRF æ”»å‡»ï¼šè·¨ç«™è¯·æ±‚ä¼ªé€ ï¼Œåˆ©ç”¨ Cookieï¼Œä»¥ç”¨æˆ·çš„åä¹‰å‘é€æ¶æ„è¯·æ±‚ã€‚é˜²èŒƒæ–¹æ³•ï¼šéªŒè¯ç ã€æ£€æŸ¥ HTTPS å¤´éƒ¨çš„ refererã€ä½¿ç”¨ tokenã€‚&lt;/p>
&lt;h2 id="10-http-å¸¸è§è¯·æ±‚å¤´">
&lt;a href="#10-http-%e5%b8%b8%e8%a7%81%e8%af%b7%e6%b1%82%e5%a4%b4" class="header-anchor">#&lt;/a>
10 HTTP å¸¸è§è¯·æ±‚å¤´
&lt;/h2>
&lt;p>å¯ä»¥åˆ’åˆ†ä¸ºï¼šé€šç”¨é¦–éƒ¨ã€è¯·æ±‚é¦–éƒ¨ã€ç›¸åº”é¦–éƒ¨å’Œå®ä½“é¦–éƒ¨&lt;/p>
&lt;p>é€šç”¨é¦–éƒ¨ï¼š&lt;/p>
&lt;ol>
&lt;li>Acceptï¼šå¯æ¥å—çš„å“åº”å†…å®¹ç±»å‹&lt;/li>
&lt;li>Accept-Encodingï¼šå¯æ¥å—çš„å“åº”å†…å®¹ç¼–ç å½¢å¼&lt;/li>
&lt;li>Accept-Languageï¼šå¯æ¥å—çš„å“åº”è¯­è¨€åˆ—è¡¨&lt;/li>
&lt;li>Cache-Controlï¼šæ˜¯å¦ä½¿ç”¨å¼ºç¼“å­˜&lt;/li>
&lt;li>Pragmaï¼šä¸€èˆ¬æ¥è¯´æŒ‡ï¼Œæ˜¯å¦ä½¿ç”¨å¼ºç¼“å­˜&lt;/li>
&lt;li>Connectionï¼šè¿æ¥ç±»å‹ï¼ˆkeep-aliveï¼‰&lt;/li>
&lt;li>User-Agentï¼šæµè§ˆå™¨çš„èº«ä»½æ ‡è¯†å­—ç¬¦ä¸²&lt;/li>
&lt;li>Content-Lengthï¼š8 è¿›åˆ¶æ ‡è¯†çš„è¯·æ±‚ä½“çš„é•¿åº¦ã€‚&lt;/li>
&lt;li>Content-Typeï¼šè¯·æ±‚ä½“çš„ MIME ç±»å‹ï¼Œç”¨äº POST å’Œ GET&lt;/li>
&lt;li>Hostï¼šæœåŠ¡å™¨çš„åŸŸååŠç›‘å¬ç«¯å£å·ï¼Œ80 åˆ™å¯ä»¥çœç•¥&lt;/li>
&lt;/ol>
&lt;p>è¯·æ±‚é¦–éƒ¨ï¼š&lt;/p>
&lt;ol>
&lt;li>cookie&lt;/li>
&lt;li>Etag/If-None-Match&lt;/li>
&lt;li>Last-Modified/if-Modified-Since ç­‰&lt;/li>
&lt;/ol>
&lt;p>å“åº”é¦–éƒ¨ï¼š&lt;/p>
&lt;ol>
&lt;li>set-cookie ç­‰&lt;/li>
&lt;/ol>
&lt;h2 id="11-http-å¸¸è§è¯·æ±‚æ–¹æ³•">
&lt;a href="#11-http-%e5%b8%b8%e8%a7%81%e8%af%b7%e6%b1%82%e6%96%b9%e6%b3%95" class="header-anchor">#&lt;/a>
11 HTTP å¸¸è§è¯·æ±‚æ–¹æ³•
&lt;/h2>
&lt;ol>
&lt;li>getï¼šè¯·æ±‚èµ„æº&lt;/li>
&lt;li>headï¼šè¯·æ±‚ header&lt;/li>
&lt;li>postï¼šå»ºç«‹æˆ–ä¿®æ”¹èµ„æºã€‚&lt;/li>
&lt;li>putï¼šå–ä»£èµ„æº&lt;/li>
&lt;li>deleteï¼šåˆ é™¤æŒ‡å®šèµ„æº&lt;/li>
&lt;li>connectï¼š&lt;/li>
&lt;li>optionsï¼šå…è®¸å®¢æˆ·ç«¯æŸ¥çœ‹æœåŠ¡ç«¯çš„æ€§èƒ½&lt;/li>
&lt;li>traceï¼šå›æ˜¾æœåŠ¡å™¨æ”¶åˆ°çš„è¯·æ±‚ï¼Œç”¨äºæµ‹è¯•å’Œè¯Šæ–­&lt;/li>
&lt;li>patchï¼šå¯¹ put çš„è¡¥å……ï¼Œå¯¹å·²æœ‰èµ„æºå±€éƒ¨æ›´æ–°ã€‚&lt;/li>
&lt;/ol>
&lt;h2 id="12-è¾“å…¥-url-åˆ°æ˜¾ç¤ºé¡µé¢çš„è¿‡ç¨‹">
&lt;a href="#12-%e8%be%93%e5%85%a5-url-%e5%88%b0%e6%98%be%e7%a4%ba%e9%a1%b5%e9%9d%a2%e7%9a%84%e8%bf%87%e7%a8%8b" class="header-anchor">#&lt;/a>
12 è¾“å…¥ URL åˆ°æ˜¾ç¤ºé¡µé¢çš„è¿‡ç¨‹
&lt;/h2>
&lt;ol>
&lt;li>é¦–å…ˆéœ€è¦æ‰¾åˆ°è¿™ä¸ª url åŸŸåçš„æœåŠ¡å™¨ ipï¼Œé¦–å…ˆä¼šå¯»æ‰¾ç¼“å­˜ä¸­çš„è®°å½•ï¼Œå¦‚æœæ²¡æœ‰åˆ™æŸ¥æ‰¾æœ¬åœ°çš„ hosts æ–‡ä»¶æ˜¯å¦æœ‰è®°å½•ï¼Œå¦‚æœæ²¡æœ‰åˆ™è¿›è¡Œä¸‹ä¸€æ­¥ã€‚&lt;/li>
&lt;li>DNS è§£æï¼šé¦–å…ˆï¼Œå®¢æˆ·ç«¯é€šè¿‡å‘é€ DHCP è¯·æ±‚æŠ¥æ–‡è·å–ç½‘å…³è·¯ç”±å™¨çš„ IP åœ°å€ï¼Œç„¶åé€šè¿‡ ARP åè®®è·å–ç½‘å…³è·¯ç”±å™¨çš„ MAC åœ°å€ï¼Œæ¥ç€å‘ç½‘å…³è·¯ç”±å™¨å‘é€ DNS æŸ¥è¯¢æŠ¥æ–‡ï¼Œåˆ°è¾¾ DNS æœåŠ¡å™¨åï¼Œåœ¨ DNS æ•°æ®åº“ä¸­æŸ¥è¯¢åŸŸåè§£æåçš„ IP åœ°å€ã€‚&lt;/li>
&lt;li>æµè§ˆå™¨æ ¹æ®å¾—åˆ°çš„ IP åœ°å€åŠç›¸åº”çš„ç«¯å£å·ï¼Œæ„é€ ä¸€ä¸ª HTTP è¯·æ±‚æŠ¥æ–‡ï¼Œå¹¶å°†è¿™ä¸ª HTTP è¯·æ±‚å°è£…åœ¨ä¸€ä¸ª TCP åŒ…ä¸­ï¼Œä¾æ¬¡ç»è¿‡ä¼ è¾“å±‚ã€ç½‘ç»œå±‚ã€æ•°æ®é“¾è·¯å±‚ã€ç‰©ç†å±‚åˆ°è¾¾æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯è§£æè¿™ä¸ªè¯·æ±‚æ¥ä½œå‡ºå“åº”ç»™æµè§ˆå™¨ã€‚&lt;/li>
&lt;li>æµè§ˆå™¨è§£æå“åº”å†…å®¹å¹¶æ¸²æŸ“é¡µé¢ï¼Œç»“æŸè¿æ¥ã€‚ï¼ˆDOM æ ‘å’Œ CSSOM æ ‘ï¼‰&lt;/li>
&lt;/ol>
&lt;h2 id="13-websocket">
&lt;a href="#13-websocket" class="header-anchor">#&lt;/a>
13 Websocket
&lt;/h2>
&lt;p>WebSocket æ˜¯ HTML5 ä¸­çš„åè®®ï¼Œæ”¯æŒæŒä¹…è¿ç»­ï¼Œhttp åè®®ä¸æ”¯æŒæŒä¹…æ€§è¿æ¥ã€‚Http1.0 å’Œ HTTP1.1 éƒ½ä¸æ”¯æŒæŒä¹…æ€§çš„é“¾æ¥ï¼ŒHTTP1.1 ä¸­çš„ keep-aliveï¼Œå°†å¤šä¸ª http è¯·æ±‚åˆå¹¶ä¸º 1 ä¸ªã€‚&lt;/p>
&lt;p>HTTP çš„ç”Ÿå‘½å‘¨æœŸé€šè¿‡ Request æ¥ç•Œå®šï¼Œä¹Ÿå°±æ˜¯ Request ä¸€ä¸ª Responseï¼Œé‚£ä¹ˆåœ¨ Http1.0 åè®®ä¸­ï¼Œè¿™æ¬¡ Http è¯·æ±‚å°±ç»“æŸäº†ã€‚åœ¨ Http1.1 ä¸­è¿›è¡Œäº†æ”¹è¿›ï¼Œæœ‰ä¸€ä¸ª connectionï¼šKeep-aliveï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨ä¸€ä¸ª Http è¿æ¥ä¸­ï¼Œå¯ä»¥å‘é€å¤šä¸ª Requestï¼Œæ¥æ”¶å¤šä¸ª Responseã€‚ä½†æ˜¯å¿…é¡»è®°ä½ï¼Œåœ¨ Http ä¸­ä¸€ä¸ª Request åªèƒ½å¯¹åº”æœ‰ä¸€ä¸ª Responseï¼Œè€Œä¸”è¿™ä¸ª Response æ˜¯è¢«åŠ¨çš„ï¼Œä¸èƒ½ä¸»åŠ¨å‘èµ·ã€‚&lt;/p>
&lt;p>WebSocket æ˜¯åŸºäº Http åè®®çš„ï¼Œæˆ–è€…è¯´å€Ÿç”¨äº† Http åè®®æ¥å®Œæˆä¸€éƒ¨åˆ†æ¡æ‰‹ï¼Œåœ¨æ¡æ‰‹é˜¶æ®µä¸ Http æ˜¯ç›¸åŒçš„ã€‚æœ‰ 2 ä¸ªç›¸å…³çš„è¯·æ±‚å¤´ï¼Œupgradeï¼Œconnectionã€‚&lt;/p>
&lt;p>upgrade:websocket&lt;/p>
&lt;p>connection:upgrade&lt;/p>
&lt;h2 id="14-bom-å¯¹è±¡">
&lt;a href="#14-bom-%e5%af%b9%e8%b1%a1" class="header-anchor">#&lt;/a>
14 BOM å¯¹è±¡
&lt;/h2>
&lt;p>æµè§ˆå™¨å¯¹è±¡ï¼Œlocationã€history å’Œ navigator&lt;/p>
&lt;p>å¸¸ç”¨å±æ€§å’Œæ–¹æ³•ï¼š&lt;/p>
&lt;ol>
&lt;li>historyï¼šgoã€backã€forward&lt;/li>
&lt;li>navigatorï¼šuserAgentã€cookieEnabled&lt;/li>
&lt;li>locationï¼š
&lt;ol>
&lt;li>get ç±»å‹ï¼šhrefã€searchã€hashã€hostã€hostnameã€pathnameã€portã€protocal&lt;/li>
&lt;li>set ç±»å‹ï¼šassginï¼ˆè®¾ç½® urlï¼‰ã€replaceï¼ˆè®¾ç½® urlï¼Œå¹¶ä¸”åœ¨ history ä¸­ç§»é™¤ï¼‰ã€reload&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ol>
&lt;h2 id="15-cors-è·¨åŸŸè¯·æ±‚çš„æ–¹å¼">
&lt;a href="#15-cors-%e8%b7%a8%e5%9f%9f%e8%af%b7%e6%b1%82%e7%9a%84%e6%96%b9%e5%bc%8f" class="header-anchor">#&lt;/a>
15 CORS è·¨åŸŸè¯·æ±‚çš„æ–¹å¼
&lt;/h2>
&lt;p>corsï¼šè·¨åŸŸèµ„æºå…±äº«ï¼Œå®¢æœäº† AJAX åªèƒ½åŒæºä½¿ç”¨çš„é™åˆ¶ã€‚&lt;/p>
&lt;p>åªè¦åŒæ—¶æ»¡è¶³ä»¥ä¸‹ä¸¤å¤§æ¡ä»¶ï¼Œå°±å±äºç®€å•è¯·æ±‚&lt;/p>
&lt;ol>
&lt;li>è¯·æ±‚æ–¹æ³•ä¸º headã€getã€post ä¹‹ä¸€&lt;/li>
&lt;li>è¯·æ±‚å¤´åªæœ‰ï¼šAccepetã€Accpet-Languageã€Content-Languageã€Last-Event-IDã€Content-Type è¿™äº”ç§ï¼Œå¹¶ä¸” Content-type åªæœ‰ application/x-www-form-unlencodedã€multipart/form-dataã€text/plain è¿™ä¸‰ç§ã€‚&lt;/li>
&lt;/ol>
&lt;p>å¯¹äºç®€å•è¯·æ±‚ï¼Œæµè§ˆå™¨ç›´æ¥å‘å‡º CORS è¯·æ±‚ï¼Œåœ¨è¯·æ±‚å¤´åŠ ä¸Š Origin å­—æ®µï¼Œç”¨æ¥è¯´æ˜æ¥è‡ªå“ªä¸ªæºï¼ŒæœåŠ¡å™¨æ ¹æ®è¿™ä¸ªå€¼å†³å®šæ˜¯å¦åŒæ„æ­¤æ¬¡è¯·æ±‚ï¼ŒåŒæ„åˆ™è¿”å›å“åº”ï¼Œå“åº”å¤´å¤šå‡ºå‡ ä¸ªå­—æ®µï¼ˆä»¥&lt;strong>Access-Control-&lt;strong>å¼€å¤´ï¼‰ï¼Œå¦åˆ™è¿”å›ä¸€ä¸ªæ­£å¸¸çš„ HTTP å“åº”ï¼Œä½†è¯·æ±‚å¤´&lt;/strong>ä¸åŒ…å« Access-Control-Allow-Origin å­—æ®µ&lt;/strong>ï¼ŒæŠ›å‡ºä¸€ä¸ªé”™è¯¯ã€‚&lt;/p>
&lt;p>&lt;strong>withCredentials å±æ€§&lt;/strong>&lt;/p>
&lt;p>CORS è¯·æ±‚é»˜è®¤ä¸å‘é€ Cookie å’Œ HTTP è®¤è¯ä¿¡æ¯ï¼Œå¦‚æœéœ€è¦å‘é€ï¼Œä¸€æ–¹é¢éœ€è¦æœåŠ¡å™¨åŒæ„ï¼ŒæŒ‡å®š Access-Control-Allow-Credentials ä¸º Trueï¼Œå¦ä¸€æ–¹é¢ ajax è¯·æ±‚è¦è®¾ç½® withCredentials å±æ€§ä¸º trueã€‚æ­¤å¤–ï¼Œå¦‚æœè¦å‘é€ Cookieï¼ŒAccess-Control-Allow-Origin å°±ä¸èƒ½è®¾ç½®ä¸ºæ˜Ÿå·ï¼Œå¿…é¡»æŒ‡å®šæ˜ç¡®çš„ã€ä¸æ˜ç¡®ç½‘é¡µä¸€è‡´çš„åŸŸåã€‚åŒæ—¶ï¼ŒCookie ä¾ç„¶éµå¾ªåŒæºæ”¿ç­–ã€‚&lt;/p>
&lt;p>&lt;strong>é¢„æ£€è¯·æ±‚&lt;/strong>&lt;/p>
&lt;p>å¯¹äºå¤æ‚è¯·æ±‚çš„ CORS è¯·æ±‚ï¼Œä¼šåœ¨æ­£å¼é€šä¿¡å‰ï¼Œå¢åŠ ä¸€æ¬¡ HTTP æŸ¥è¯¢è¯·æ±‚ï¼Œç§°ä¸ºé¢„æ£€è¯·æ±‚ï¼Œæµè§ˆå™¨å…ˆè¯¢é—®æœåŠ¡å™¨ï¼Œå¦‚æœåŒæ„æ‰ä¼šå‘å‡ºæ­£å¼çš„ XMLHttpRequest è¯·æ±‚ï¼Œå¦åˆ™å°±æŠ¥é”™ã€‚&lt;/p>
&lt;p>é¢„æ£€è¯·æ±‚ç”¨çš„è¯·æ±‚æ–¹æ³•ä¸º OPTIONSï¼Œè¯·æ±‚å¤´æœ‰ Originã€Access-Control-Request-Methodã€Access-Control-Request-Headers è¿™ä¸‰ä¸ªå­—æ®µã€‚&lt;/p>
&lt;p>ä¸€æ—¦æœåŠ¡å™¨é€šè¿‡äº†é¢„æ£€è¯·æ±‚ï¼Œä»¥åæ¯æ¬¡æµè§ˆå™¨æ­£å¸¸çš„ CORS è¯·æ±‚ï¼Œéƒ½è·Ÿæ­£å¸¸è¯·æ±‚ä¸€æ ·ï¼Œä¼šæœ‰ä¸€ä¸ª OrIgin è¯·æ±‚å¤´å­—æ®µï¼ŒæœåŠ¡å™¨å“åº”è¯·æ±‚å¤´ä¼šå¸¦æœ‰ Access-Control-Allow-Originã€‚&lt;/p>
&lt;h2 id="16-css-ç›’æ¨¡å‹">
&lt;a href="#16-css-%e7%9b%92%e6%a8%a1%e5%9e%8b" class="header-anchor">#&lt;/a>
16 CSS ç›’æ¨¡å‹
&lt;/h2>
&lt;ol>
&lt;li>æ ‡å‡†ç›’æ¨¡å‹ï¼šbox-sizingï¼šcontent-boxï¼›width=content&lt;/li>
&lt;li>IE ç›’æ¨¡å‹ï¼šbox-sizingï¼šborder-boxï¼›width=content+border+padding&lt;/li>
&lt;li>box-sizingï¼špadding-boxï¼›width=content+padding&lt;/li>
&lt;/ol>
&lt;h2 id="17-link-æ ‡ç­¾å’Œ-import-æ ‡ç­¾çš„åŒºåˆ«">
&lt;a href="#17-link-%e6%a0%87%e7%ad%be%e5%92%8c-import-%e6%a0%87%e7%ad%be%e7%9a%84%e5%8c%ba%e5%88%ab" class="header-anchor">#&lt;/a>
17 link æ ‡ç­¾å’Œ import æ ‡ç­¾çš„åŒºåˆ«
&lt;/h2>
&lt;ol>
&lt;li>link å±äº html æ ‡ç­¾ï¼Œ@import æ˜¯ css æä¾›çš„ã€‚&lt;/li>
&lt;li>åŠ è½½æ—¶æœºï¼šé¡µé¢åŠ è½½æ—¶ï¼Œlink ä¼šåŒæ—¶åŠ è½½ï¼Œè€Œ@import å¼•ç”¨çš„ css ä¼šç­‰åˆ°é¡µé¢åŠ è½½ç»“æŸååŠ è½½ã€‚&lt;/li>
&lt;li>å…¼å®¹æ€§ï¼š@import åªæœ‰ IE5 ä»¥ä¸Šæ‰æ”¯æŒã€‚&lt;/li>
&lt;li>ä¼˜å…ˆçº§ï¼šlink å¤§äº@import&lt;/li>
&lt;/ol>
&lt;h2 id="18-transition-å’Œ-animation-çš„åŒºåˆ«">
&lt;a href="#18-transition-%e5%92%8c-animation-%e7%9a%84%e5%8c%ba%e5%88%ab" class="header-anchor">#&lt;/a>
18 transition å’Œ animation çš„åŒºåˆ«
&lt;/h2>
&lt;ol>
&lt;li>å¤§éƒ¨åˆ†å±æ€§ç›¸åŒï¼Œéƒ½æ˜¯éšæ—¶é—´æ”¹å˜å…ƒç´ çš„å±æ€§å€¼ã€‚&lt;/li>
&lt;li>transition éœ€è¦è§¦å‘ä¸€ä¸ªäº‹ä»¶æ‰èƒ½æ”¹å˜å±æ€§ï¼Œè€Œ animation ä¸éœ€è¦è§¦å‘ä»»ä½•äº‹ä»¶ã€‚&lt;/li>
&lt;li>transition ä¸º 2 å¸§ï¼Œanimation å¯ä»¥ä¸€å¸§ä¸€å¸§ã€‚&lt;/li>
&lt;/ol>
&lt;h2 id="19-flex-å¸ƒå±€">
&lt;a href="#19-flex-%e5%b8%83%e5%b1%80" class="header-anchor">#&lt;/a>
19 Flex å¸ƒå±€
&lt;/h2>
&lt;p>å¼¹æ€§å¸ƒå±€ï¼Œç”¨æ¥ä¸ºç›’çŠ¶æ¨¡å‹æä¾›æœ€å¤§çš„çµæ´»æ€§ã€‚&lt;/p>
&lt;p>åˆ’åˆ†ï¼šå®¹å™¨å±æ€§å’Œå…ƒç´ å±æ€§&lt;/p>
&lt;p>å®¹å™¨å±æ€§ï¼š&lt;/p>
&lt;ol>
&lt;li>flex-directionï¼šä¸»è½´æ–¹å‘&lt;/li>
&lt;li>flex-wrapï¼šæ¢è¡Œè§„åˆ™&lt;/li>
&lt;li>flew-flowï¼šä¸Šé¢ä¸¤è€…ç»“åˆã€‚&lt;/li>
&lt;li>justify-contentï¼šä¸»è½´å¯¹é½æ–¹å¼&lt;/li>
&lt;li>align-itemsï¼šäº¤å‰è½´å¯¹é½æ–¹å¼&lt;/li>
&lt;/ol>
&lt;p>å…ƒç´ å±æ€§ï¼š&lt;/p>
&lt;ol>
&lt;li>orderï¼šæ’åˆ—é¡ºåº&lt;/li>
&lt;li>flex-glowï¼šæ”¾å¤§æ¯”ä¾‹&lt;/li>
&lt;li>flex-shrinkï¼šç¼©å°æ¯”ä¾‹&lt;/li>
&lt;li>flex-basisï¼šå æ®ç©ºé—´&lt;/li>
&lt;li>flexï¼šä¸Šé¢ä¸‰è€…çš„ç¼©å†™&lt;/li>
&lt;li>align-selfï¼šå…è®¸å…ƒç´ ä¸å…¶å®ƒé¡¹ç›®çš„å¯¹é½æ–¹å¼ä¸ä¸€æ ·ï¼Œé»˜è®¤ autoï¼Œç»§æ‰¿çˆ¶å…ƒç´ çš„ align-item&lt;/li>
&lt;/ol>
&lt;h2 id="20-bfc">
&lt;a href="#20-bfc" class="header-anchor">#&lt;/a>
20 BFC
&lt;/h2>
&lt;p>BFCï¼šå—çº§æ ¼å¼åŒ–ä¸Šä¸‹æ–‡ï¼Œç”¨äºæ¸…é™¤æµ®åŠ¨ï¼Œé˜²æ­¢ margin é‡å ç­‰&lt;/p>
&lt;p>BFC æ˜¯é¡µé¢ä¸Šçš„ä¸€ä¸ªç‹¬ç«‹å®¹å™¨ï¼Œå­å…ƒç´ ä¸ä¼šå½±å“åˆ°å¤–é¢ï¼Œè®¡ç®— BFC çš„é«˜åº¦æ—¶ï¼Œæµ®åŠ¨å…ƒç´ ä¹Ÿä¼šå‚ä¸è®¡ç®—ã€‚&lt;/p>
&lt;p>ä¼šç”Ÿæˆ BFC çš„å…ƒç´ ï¼š&lt;/p>
&lt;ol>
&lt;li>float ä¸ä¸º none çš„å…ƒç´ &lt;/li>
&lt;li>position ä¸º fixed å’Œ absolute çš„å…ƒç´ &lt;/li>
&lt;li>display ä¸º inline-blockã€table-cellã€table-captionã€flexã€inline-flex çš„å…ƒç´ ã€‚&lt;/li>
&lt;li>overflow ä¸ä¸º visible çš„å…ƒç´ &lt;/li>
&lt;/ol>
&lt;h2 id="21-å—å…ƒç´ å’Œè¡Œå…ƒç´ ">
&lt;a href="#21-%e5%9d%97%e5%85%83%e7%b4%a0%e5%92%8c%e8%a1%8c%e5%85%83%e7%b4%a0" class="header-anchor">#&lt;/a>
21 å—å…ƒç´ å’Œè¡Œå…ƒç´ 
&lt;/h2>
&lt;ol>
&lt;li>å—å…ƒç´ ï¼šç‹¬å ä¸€è¡Œï¼Œå¹¶ä¸”æœ‰è‡ªåŠ¨å¡«æ»¡çˆ¶å…ƒç´ ï¼Œå¯ä»¥è®¾ç½® margin å’Œ padding ä»¥åŠé«˜åº¦å’Œå®½åº¦&lt;/li>
&lt;li>è¡Œå…ƒç´ ï¼šä¸ä¼šç‹¬å ä¸€è¡Œï¼Œwidth å’Œ height ä¼šå¤±æ•ˆï¼Œå¹¶ä¸”åœ¨å‚ç›´æ–¹å‘çš„ padding å’Œ margin ä¼šå¤±æ•ˆã€‚&lt;/li>
&lt;/ol>
&lt;h2 id="22-html5-å’Œ-css3-çš„æ–°å…ƒç´ ">
&lt;a href="#22-html5-%e5%92%8c-css3-%e7%9a%84%e6%96%b0%e5%85%83%e7%b4%a0" class="header-anchor">#&lt;/a>
22 HTML5 å’Œ CSS3 çš„æ–°å…ƒç´ 
&lt;/h2>
&lt;ol>
&lt;li>HTML5 æ–°å¢å…ƒç´ ï¼š
&lt;ol>
&lt;li>æ–°æ ‡ç­¾ï¼š8 ä¸ªè¯­ä¹‰æ ‡ç­¾ï¼ˆheaderã€sectionã€footerã€asideã€navã€mainã€articleã€figureï¼‰ã€mark é«˜äº®ã€progress è¿›åº¦ã€æ–°è¡¨å•æ§ä»¶(calendarã€dataã€timeã€emailã€urlã€search)ã€æ–°çš„ input ç±»å‹ï¼ˆcolorã€dateã€datetimeã€datetime-localã€emailï¼‰&lt;/li>
&lt;li>canvas ç»˜å›¾ï¼Œæ”¯æŒå†…è” SVGï¼Œæ”¯æŒ MathML&lt;/li>
&lt;li>å¤šåª’ä½“ï¼šaudioã€videoã€sourceã€embed track&lt;/li>
&lt;li>æœ¬åœ°ç¦»çº¿å­˜å‚¨ï¼šmanifest é…ç½®æ–‡ä»¶&lt;/li>
&lt;li>web å­˜å‚¨ï¼šlocalStorageã€SessionStorage&lt;/li>
&lt;li>å…¶å®ƒï¼šweb workerã€websocket&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>CSS3 æ–°å…ƒç´ 
&lt;ol>
&lt;li>è¾¹æ¡†ï¼š border-radiusã€box-shadow&lt;/li>
&lt;li>èƒŒæ™¯ï¼šbackground-sizeã€background-origin&lt;/li>
&lt;li>æ–‡æœ¬æ•ˆæœï¼štext-shadowã€word-wrapã€word-break ç­‰&lt;/li>
&lt;li>2D/3D è½¬æ¢ï¼štransform&lt;/li>
&lt;li>åŠ¨ç”»ï¼šanimation&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ol>
&lt;h2 id="23-é‡ç»˜å’Œé‡æ’">
&lt;a href="#23-%e9%87%8d%e7%bb%98%e5%92%8c%e9%87%8d%e6%8e%92" class="header-anchor">#&lt;/a>
23 é‡ç»˜å’Œé‡æ’
&lt;/h2>
&lt;p>DOM çš„å˜åŒ–å½±å“åˆ°äº†é¢„ç®—å†…å®¿çš„å‡ ä½•å±æ€§æ¯”å¦‚å®½é«˜ï¼Œæµè§ˆå™¨é‡æ–°è®¡ç®—å…ƒç´ çš„å‡ ä½•å±æ€§ï¼Œå…¶ä»–å…ƒç´ çš„å‡ ä½•å±æ€§ä¹Ÿä¼šå—åˆ°å½±å“ï¼Œæµè§ˆå™¨éœ€è¦é‡æ–°æ„é€ æ¸²æŸ“æ ‘ï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¹‹ä¸º&lt;strong>é‡æ’&lt;/strong>ï¼Œæµè§ˆå™¨å°†å—åˆ°å½±å“çš„éƒ¨åˆ†é‡æ–°ç»˜åˆ¶åœ¨å±å¹•ä¸Šçš„è¿‡ç¨‹ç§°ä¸º&lt;strong>é‡ç»˜&lt;/strong>ã€‚&lt;/p>
&lt;p>é‡ç»˜å’Œé‡æ’çš„åŸå› ï¼š&lt;/p>
&lt;ol>
&lt;li>æ·»åŠ æˆ–åˆ é™¤å¯è§çš„ DOM å…ƒç´ &lt;/li>
&lt;li>å…ƒç´ å°ºå¯¸ä½ç½®çš„æ”¹å˜&lt;/li>
&lt;li>æµè§ˆå™¨é¡µé¢åˆå§‹åŒ–&lt;/li>
&lt;li>æµè§ˆå™¨çª—å£å¤§å°å‘ç”Ÿæ”¹å˜ã€‚&lt;/li>
&lt;/ol>
&lt;p>&lt;strong>é‡æ’ä¸€å®šå¯¼è‡´é‡ç»˜ï¼Œé‡ç»˜ä¸ä¸€å®šå¯¼è‡´é‡æ’ã€‚&lt;/strong>&lt;/p>
&lt;p>å‡å°‘é‡æ’ï¼Œæé«˜æ€§èƒ½çš„æ–¹æ³•ï¼š&lt;/p>
&lt;ol>
&lt;li>å…ƒç´ çš„å¤šæ¬¡æ ·å¼ä¿®æ”¹åˆå¹¶æˆä¸€æ¬¡ä¿®æ”¹ã€‚&lt;/li>
&lt;li>å¦‚éœ€è¿›è¡Œå¯¹ DOM èŠ‚ç‚¹è¿›è¡Œå¤šæ¬¡æ“ä½œï¼Œå…ˆå°†å…¶è„±ç¦»æ–‡æœ¬æµä¹‹åå†è¿›è¡Œå¤šæ¬¡æ“ä½œã€‚&lt;/li>
&lt;li>table å¸ƒå±€çš„æ¸²æŸ“ä¸æ™®é€š DOM èŠ‚ç‚¹çš„æ“ä½œç›¸æ¯”ï¼Œæ€§èƒ½æ¶ˆè€—æ›´å¤§ï¼Œå¦‚æœå¯ä»¥ï¼Œå°½é‡å‡å°‘ table å¸ƒå±€çš„ä½¿ç”¨ã€‚&lt;/li>
&lt;li>ç¼“å­˜å¸¸ç”¨çš„å¸ƒå±€ä¿¡æ¯ã€‚&lt;/li>
&lt;/ol>
&lt;h2 id="24-é—­åŒ…">
&lt;a href="#24-%e9%97%ad%e5%8c%85" class="header-anchor">#&lt;/a>
24 é—­åŒ…
&lt;/h2>
&lt;p>é—­åŒ…ï¼šå½“ä¸€ä¸ªåµŒå¥—çš„å†…éƒ¨å‡½æ•°å¼•ç”¨äº†å¤–éƒ¨å‡½æ•°çš„å˜é‡æˆ–è€…å‡½æ•°æ—¶ï¼Œå¤–éƒ¨å‡½æ•°åœ¨æ‰§è¡Œæ—¶å°±äº§ç”Ÿäº†é—­åŒ…ã€‚&lt;/p>
&lt;p>å…¸å‹çš„é—­åŒ…ï¼š&lt;/p>
&lt;ol>
&lt;li>å°†å‡½æ•°ä½œä¸ºçµä¸€ä¸ªå‡½æ•°çš„è¿”å›å€¼&lt;/li>
&lt;li>å°†å‡½æ•°ä½œä¸ºå®å‚ä¼ ç»™å¦ä¸€ä¸ªå‡½æ•°è°ƒç”¨&lt;/li>
&lt;/ol>
&lt;p>é—­åŒ…ç‰¹ç‚¹ï¼šå‡½æ•°åµŒå¥—å‡½æ•°ï¼Œå†…éƒ¨å‡½æ•°å¼•ç”¨å¤–éƒ¨å‡½æ•°çš„å˜é‡ã€‚&lt;/p>
&lt;p>é—­åŒ…çš„ä½œç”¨ï¼š&lt;/p>
&lt;ol>
&lt;li>å»¶é•¿å¤–éƒ¨å‡½æ•°å±€éƒ¨å˜é‡çš„ç”Ÿå‘½å‘¨æœŸï¼Œå¯ä»¥ç”¨äºå®ç°è®¡æ•°å™¨ã€‚&lt;/li>
&lt;li>å¯ä»¥å½¢æˆå˜é‡çš„å±€éƒ¨ä½œç”¨åŸŸï¼Œå®ç°å‡½æ•°å°è£…ã€‚&lt;/li>
&lt;/ol>
&lt;p>é—­åŒ…çš„ç¼ºç‚¹ï¼šå‡½æ•°å®šä¹‰çš„å˜é‡å’Œæ•°æ®ä¼šä¸€ç›´å­˜åœ¨å†…å­˜å‡½æ•°ä¸­ï¼Œä¸ä¼šè¢«åŠæ—¶é‡Šæ”¾ï¼Œå®¹æ˜“å¯¼è‡´å†…å­˜æ³„æ¼ã€‚&lt;/p>
&lt;h2 id="25-ç±»çš„åˆ›å»ºå’Œç»§æ‰¿">
&lt;a href="#25-%e7%b1%bb%e7%9a%84%e5%88%9b%e5%bb%ba%e5%92%8c%e7%bb%a7%e6%89%bf" class="header-anchor">#&lt;/a>
25 ç±»çš„åˆ›å»ºå’Œç»§æ‰¿
&lt;/h2>
&lt;p>ç±»çš„åˆ›å»ºï¼šnew ä¸€ä¸ª functionï¼Œåœ¨è¿™ä¸ª function ä¸­çš„ prototype é‡Œé¢æ·»åŠ å±æ€§å’Œæ–¹æ³•&lt;/p>
&lt;pre>&lt;code class="language-javascript">function Animal(name){
this.name = name || 'Animal';
//å®ä¾‹æ–¹æ³•
this.sleep = function(){
console.log(this.name + &amp;quot;æ­£åœ¨ç¡è§‰!&amp;quot;);
}
//åŸå‹æ–¹æ³•
Animal.prototype.eat = function(food){
console.log(this.name + &amp;quot;æ­£åœ¨åƒ&amp;quot; + food);
};
}
&lt;/code>&lt;/pre>
&lt;p>ç±»çš„ç»§æ‰¿ï¼š4 ç§æ–¹å¼&lt;/p>
&lt;ol>
&lt;li>
&lt;p>åŸå‹é“¾ç»§æ‰¿ï¼ˆnew ä¸€ä¸ªç©ºå¯¹è±¡ï¼Œç©ºå¯¹è±¡æŒ‡å‘ Animalï¼Œç¼ºç‚¹æ˜¯æ— æ³•å¤šç»§æ‰¿ï¼‰&lt;/p>
&lt;pre>&lt;code class="language-javascript">function Cat(){
Cat.prototype = new Animal();
Cat.prototype.name = 'Cat';
}
&lt;/code>&lt;/pre>
&lt;/li>
&lt;li>
&lt;p>æ„é€ ç»§æ‰¿ï¼ˆä½¿ç”¨çˆ¶äº²çš„æ„é€ å‡½æ•°æ¥å¢å¼ºå­ç±»å®ä¾‹ï¼Œç­‰äºå¤åˆ¶çˆ¶äº²çš„å®ä¾‹å±æ€§ï¼‰&lt;/p>
&lt;pre>&lt;code class="language-javascript">function Cat(name){
Animal.call(this);
this.name = name || 'Tom';
}
&lt;/code>&lt;/pre>
&lt;p>ä¼˜ç‚¹ï¼šå¯ä»¥å¤šç»§æ‰¿&lt;/p>
&lt;p>ç¼ºç‚¹ï¼šåªèƒ½ç»§æ‰¿å®ä¾‹å±æ€§å’Œæ–¹æ³•&lt;/p>
&lt;/li>
&lt;li>
&lt;p>å®ä¾‹é›†æˆå’Œæ‹·è´ç»§æ‰¿ï¼š&lt;/p>
&lt;ol>
&lt;li>å®ä¾‹ç»§æ‰¿ï¼šä¸ºçˆ¶äº²å®ä¾‹æ·»åŠ æ–°ç‰¹æ€§ï¼Œä½œä¸ºå­ç±»å®ä¾‹è¿”å›&lt;/li>
&lt;li>æ‹·è´ç»§æ‰¿ï¼šæ‹·è´çˆ¶äº²å…ƒç´ ä¸Šçš„å±æ€§å’Œæ–¹æ³•&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>
&lt;p>ç»„åˆç»§æ‰¿ï¼šæ„é€ ç»§æ‰¿å’ŒåŸå‹é“¾ç»§æ‰¿çš„ç»„åˆ&lt;/p>
&lt;pre>&lt;code class="language-javascript">function Cat(name){
Animal.call(this);
this.name = name || 'Tom';
}
Cat.prototype = new Animal();
Cat.prototype.constructor = Cat;
&lt;/code>&lt;/pre>
&lt;p>é€šè¿‡è°ƒç”¨çˆ¶ç±»æ„é€ ï¼Œç»§æ‰¿çˆ¶äº²çš„å±æ€§å¹¶ä¿ç•™ä¼ å‚çš„ä¼˜ç‚¹ï¼Œç„¶åé€šè¿‡å°†çˆ¶äº²å®ä¾‹ä½œä¸ºå­ç±»åŸå‹ï¼Œå®ç°å‡½æ•°å¤ç”¨ã€‚&lt;/p>
&lt;p>ç‰¹ç‚¹ï¼šå¯ä»¥ç»§æ‰¿å®ä¾‹å±æ€§ï¼Œä¹Ÿå¯ä»¥ç»§æ‰¿åŸå‹å±æ€§&lt;/p>
&lt;p>ç¼ºç‚¹ï¼šè°ƒç”¨äº†ä¸¤æ¬¡çˆ¶ç±»æ„é€ å‡½æ•°ï¼Œç”Ÿæˆäº†ä¸¤ä»½å®ä¾‹&lt;/p>
&lt;/li>
&lt;li>
&lt;p>å¯„ç”Ÿç»„åˆç»§æ‰¿ï¼šé€šè¿‡å¯„ç”Ÿæ–¹å¼ï¼Œç æ‰çˆ¶äº²çš„å®ä¾‹å±æ€§&lt;/p>
&lt;pre>&lt;code class="language-javascript">function Cat(name){
Animal.call(this);
this.name = name || 'Tom';
}
var Super = function(){};
Super.prototype = Animal.prototype;
Cat.prototype = new Super();
&lt;/code>&lt;/pre>
&lt;/li>
&lt;li>
&lt;p>æœ€å¸¸ç”¨çš„æ–¹æ³•ï¼š&lt;/p>
&lt;pre>&lt;code class="language-javascript">Cat.prototype = Object.create(Animal.prototype);
&lt;/code>&lt;/pre>
&lt;/li>
&lt;/ol>
&lt;h2 id="26-promisegeneratorasyncawait">
&lt;a href="#26-promisegeneratorasyncawait" class="header-anchor">#&lt;/a>
26 promiseã€generatorã€async/await
&lt;/h2>
&lt;p>promiseï¼šCommonJS å·¥ä½œç»„æå‡ºçš„ä¸€ç§è§„èŒƒï¼Œç›®çš„æ˜¯ä¸ºå¼‚æ­¥ç¼–ç¨‹æä¾›ç»Ÿä¸€æ¥å£ã€‚æ¯ä¸€ä¸ªå¼‚æ­¥ä»»åŠ¡è¿”å›ä¸€ä¸ª Promise å¯¹è±¡ï¼Œè¯¥å¯¹è±¡æœ‰ä¸€ä¸ª then æ–¹æ³•ï¼Œå…è®¸æŒ‡å®šå›è°ƒå‡½æ•°ã€‚æœ‰ä¸‰ä¸ªçŠ¶æ€ï¼šç­‰å¾…ï¼ˆpendingï¼‰ã€å·²å®Œæˆï¼ˆresolvedï¼Œåˆç§° fulfilledï¼‰ã€å·²æ‹’ç»ï¼ˆrejectedï¼‰ã€‚promise å¿…é¡»å®ç° then æ–¹æ³•ï¼ˆå¯ä»¥è¯´ï¼Œthen å°±æ˜¯ promise çš„æ ¸å¿ƒï¼‰ï¼Œè€Œä¸” then å¿…é¡»è¿”å›ä¸€ä¸ª promiseï¼ŒåŒä¸€ä¸ª promise çš„ then å¯ä»¥è°ƒç”¨å¤šæ¬¡ï¼Œå¹¶ä¸”å›è°ƒçš„æ‰§è¡Œé¡ºåºè·Ÿå®ƒä»¬è¢«å®šä¹‰æ—¶çš„é¡ºåºä¸€è‡´ã€‚then æ–¹æ³•æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æˆåŠŸæ—¶çš„å›è°ƒï¼Œåœ¨ promise ç”±â€œç­‰å¾…â€æ€è½¬æ¢åˆ°â€œå®Œæˆâ€æ€æ—¶è°ƒç”¨ï¼Œå¦ä¸€ä¸ªæ˜¯å¤±è´¥æ—¶çš„å›è°ƒï¼Œåœ¨ promise ç”±â€œç­‰å¾…â€æ€è½¬æ¢åˆ°â€œæ‹’ç»â€æ€æ—¶è°ƒç”¨ã€‚åŒæ—¶ï¼Œthen å¯ä»¥æ¥å—å¦ä¸€ä¸ª promise ä¼ å…¥ï¼Œä¹Ÿæ¥å—ä¸€ä¸ªâ€œç±» thenâ€çš„å¯¹è±¡æˆ–æ–¹æ³•ï¼Œå³ thenable å¯¹è±¡ã€‚&lt;/p>
&lt;ul>
&lt;li>
&lt;p>ä½¿ç”¨ä¸¾ä¾‹ï¼š&lt;/p>
&lt;pre>&lt;code class="language-javascript">func(){
return new Promise((resolve,reject)=&amp;gt;{
work().then(res=&amp;gt;{
this.data = res.data;
resolve();
}).catch(error=&amp;gt;{
reject(error);
})
})
}
&lt;/code>&lt;/pre>
&lt;/li>
&lt;/ul>
&lt;p>promise çš„ç”¨å¤„&lt;/p>
&lt;ol>
&lt;li>è§£å†³äº†å›è°ƒå‡½æ•°çš„å›è°ƒåœ°ç‹±é—®é¢˜ï¼Œæœ‰æ—¶å€™æˆ‘ä»¬çš„è¯·æ±‚éœ€è¦ä¸Šä¸€ä¸ªè¯·æ±‚è¿”å›çš„ç»“æœï¼Œä¼šé€ æˆç›¸äº’é—´å›è°ƒå‡½æ•°çš„åµŒå¥—ï¼Œä½¿å¾—ä»£ç çš„å¯è¯»æ€§å’Œç»´æŠ¤æ€§å¾ˆä½ã€‚&lt;/li>
&lt;li>è®©ä»£ç å˜å¾—æ‰å¹³ï¼Œå¯è¯»æ€§æ›´å¥½ï¼Œthen è¿”å›ä¸€ä¸ª promiseï¼Œå¯ä»¥æŠŠ then ä¸²èµ·æ¥ï¼Œthen è¿”å›çš„ promise è£…è½½äº†ç”±è°ƒç”¨è¿”å›çš„å€¼ã€‚&lt;/li>
&lt;li>åœ¨å¼‚æ­¥å›è°ƒä¸­ï¼Œå‡½æ•°çš„æ‰§è¡Œæ ˆä¸åŸå‡½æ•°åˆ†ç¦»å¼€ï¼Œå¯¼è‡´å¤–éƒ¨æ— æ³•æŠ“ä½å¼‚å¸¸ã€‚åœ¨ promise ä¸­æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ reject æ•è·å¤±è´¥æƒ…å†µï¼Œå’Œ catch æ•è·æ‰§è¡Œå¼‚å¸¸ã€‚&lt;/li>
&lt;li>promise åªä¸è¿‡æ˜¯ä¸€ç§æ›´è‰¯å¥½çš„ç¼–ç¨‹é£æ ¼ã€‚&lt;/li>
&lt;/ol>
&lt;p>promise çš„ç¼ºç‚¹ï¼š&lt;/p>
&lt;ol>
&lt;li>ä¸è®¾ç½®å›è°ƒå‡½æ•°ï¼Œpromise å†…éƒ¨æŠ›å‡ºçš„é”™è¯¯ï¼Œæ— æ³•è¿”å›åˆ°å¤–éƒ¨ã€‚&lt;/li>
&lt;li>å¤„äº pending çŠ¶æ€æ—¶ï¼Œæ— æ³•å¾—çŸ¥è¿›å±•åˆ°å“ªä¸€ä¸ªé˜¶æ®µã€‚&lt;/li>
&lt;/ol>
&lt;p>async å’Œ awaitï¼š&lt;/p>
&lt;ol>
&lt;li>async å‡½æ•°è¿”å›ä¸€ä¸ª promise å¯¹è±¡ï¼Œåœ¨æ²¡æœ‰ await çš„æƒ…å†µä¸‹æ‰§è¡Œ async å‡½æ•°ï¼Œå®ƒä¼šç«‹å³è¿”å›ä¸€ä¸ª promise å¯¹è±¡ï¼Œå¹¶ä¸”ï¼Œç»å¯¹ä¸ä¼šæ³¨æ„åé¢è¯­å¥çš„æ‰§è¡Œï¼Œawait å…³é”®å­—åªèƒ½ç”¨åœ¨ aync å®šä¹‰çš„å‡½æ•°å†…ï¼›
await å¯ä»¥ç”¨äºç­‰å¾…ä¸€ä¸ª async å‡½æ•°çš„è¿”å›å€¼ï¼Œå¦‚æœå®ƒç­‰åˆ°çš„æ˜¯ä¸€ä¸ª Promise å¯¹è±¡ï¼Œawait å°±å¿™èµ·æ¥äº†ï¼Œå®ƒä¼šé˜»å¡åé¢çš„ä»£ç ï¼Œç­‰ç€ Promise å¯¹è±¡ resolveï¼Œç„¶åå¾—åˆ° resolve çš„å€¼ï¼Œä½œä¸º await è¡¨è¾¾å¼çš„è¿ç®—ç»“æœã€‚async/await ä½¿å¾—å¼‚æ­¥ä»£ç çœ‹èµ·æ¥åƒåŒæ­¥ä»£ç ï¼Œä½¿ä»£ç ç®€æ´ï¼Œå¯è¯»æ€§æ›´å¥½ï¼Œé¿å…åµŒå¥—ã€‚&lt;/li>
&lt;/ol>
&lt;h2 id="27-äº‹ä»¶æµ">
&lt;a href="#27-%e4%ba%8b%e4%bb%b6%e6%b5%81" class="header-anchor">#&lt;/a>
27 äº‹ä»¶æµ
&lt;/h2>
&lt;p>äº‹ä»¶æµï¼šä»é¡µé¢æ¥å—äº‹ä»¶çš„é¡ºåºï¼ŒDOM2 çº§äº‹ä»¶æµåŒ…æ‹¬ä¸‹é¢å‡ ä¸ªé˜¶æ®µ&lt;/p>
&lt;ol>
&lt;li>äº‹ä»¶æ•è·é˜¶æ®µ&lt;/li>
&lt;li>å¤„äºç›®æ ‡é˜¶æ®µ&lt;/li>
&lt;li>äº‹ä»¶å†’æ³¡é˜¶æ®µ&lt;/li>
&lt;/ol>
&lt;p>addEventListenerï¼šDOM2 çº§äº‹ä»¶æ–°å¢çš„æŒ‡å®šäº‹ä»¶å¤„ç†ç¨‹åºçš„æ“ä½œï¼Œè¿™ä¸ªæ–¹æ³•æ¥å—ä¸‰ä¸ªå‚æ•°ï¼Œè¦å¤„ç†çš„äº‹ä»¶åï¼Œä½œä¸ºäº‹ä»¶å¤„ç†ç¨‹åºçš„å‡½æ•°å’Œä¸€ä¸ªå¸ƒå°”å€¼ï¼ˆtrue åˆ™åœ¨æ•è·é˜¶æ®µè°ƒç”¨äº‹ä»¶å¤„ç†ç¨‹åºï¼Œå¦åˆ™åœ¨å†’æ³¡é˜¶æ®µè°ƒç”¨ï¼‰ã€‚IE åªæ”¯æŒäº‹ä»¶å†’æ³¡ã€‚&lt;/p>
&lt;ul>
&lt;li>
&lt;p>addEventListener ç¤ºä¾‹ï¼š&lt;/p>
&lt;pre>&lt;code class="language-javascript">var op = document.getElementById(&amp;quot;id&amp;quot;);
op.addEventListener('click', function(e){
//do something
}, false);
&lt;/code>&lt;/pre>
&lt;/li>
&lt;/ul>
&lt;h2 id="28-äº‹ä»¶å§”æ‰˜ä»£ç†">
&lt;a href="#28-%e4%ba%8b%e4%bb%b6%e5%a7%94%e6%89%98%e4%bb%a3%e7%90%86" class="header-anchor">#&lt;/a>
28 äº‹ä»¶å§”æ‰˜ï¼ˆä»£ç†ï¼‰
&lt;/h2>
&lt;p>äº‹ä»¶å§”æ‰˜ï¼šäº‹ä»¶å§”æ‰˜æŒ‡çš„æ˜¯ï¼Œä¸åœ¨äº‹ä»¶çš„å‘ç”Ÿåœ°ï¼ˆç›´æ¥ domï¼‰ä¸Šè®¾ç½®ç›‘å¬å‡½æ•°ï¼Œè€Œæ˜¯åœ¨å…¶çˆ¶å…ƒç´ ä¸Šè®¾ç½®ç›‘å¬å‡½æ•°ï¼Œé€šè¿‡äº‹ä»¶å†’æ³¡ï¼Œçˆ¶å…ƒç´ å¯ä»¥ç›‘å¬åˆ°å­å…ƒç´ ä¸Šäº‹ä»¶çš„è§¦å‘ï¼Œé€šè¿‡åˆ¤æ–­äº‹ä»¶å‘ç”Ÿå…ƒç´  DOM çš„ç±»å‹ï¼Œæ¥åšå‡ºä¸åŒçš„å“åº”ã€‚&lt;/p>
&lt;p>ä¸¾ä¾‹ï¼šæœ€ç»å…¸çš„å°±æ˜¯ ul å’Œ li æ ‡ç­¾çš„äº‹ä»¶ç›‘å¬ï¼Œæ¯”å¦‚æˆ‘ä»¬åœ¨æ·»åŠ äº‹ä»¶æ—¶å€™ï¼Œé‡‡ç”¨äº‹ä»¶å§”æ‰˜æœºåˆ¶ï¼Œä¸ä¼šåœ¨ li æ ‡ç­¾ä¸Šç›´æ¥æ·»åŠ ï¼Œè€Œæ˜¯åœ¨ ul çˆ¶å…ƒç´ ä¸Šæ·»åŠ ã€‚&lt;/p>
&lt;p>ä¼˜ç‚¹ï¼šæ¯”è¾ƒåˆé€‚åŠ¨æ€å…ƒç´ çš„ç»‘å®šï¼Œæ–°æ·»åŠ çš„å­å…ƒç´ ä¹Ÿä¼šæœ‰ç›‘å¬å‡½æ•°ï¼Œä¹Ÿå¯ä»¥æœ‰äº‹ä»¶è§¦å‘æœºåˆ¶ã€‚&lt;/p>
&lt;h2 id="29-äº‹ä»¶å¾ªç¯">
&lt;a href="#29-%e4%ba%8b%e4%bb%b6%e5%be%aa%e7%8e%af" class="header-anchor">#&lt;/a>
29 äº‹ä»¶å¾ªç¯
&lt;/h2>
&lt;p>äº‹åŠ¡é˜Ÿåˆ—ä¸­ï¼Œåœ¨æ¯ä¸€æ¬¡äº‹ä»¶å¾ªç¯ä¸­ï¼Œå®ä»»åŠ¡åªä¼šæå–ä¸€ä¸ªæ‰§è¡Œï¼Œè€Œå¾®ä»»åŠ¡ä¼šä¸€ç›´æå–ï¼Œç›´åˆ°å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸ºç©ºä¸ºæ­¢ã€‚&lt;/p>
&lt;p>ä¹Ÿå°±æ˜¯è¯´å¦‚æœæŸä¸ªå¾®ä»»åŠ¡ä»»åŠ¡è¢«æ¨å…¥åˆ°æ‰§è¡Œä¸­ï¼Œé‚£ä¹ˆå½“ä¸»çº¿ç¨‹ä»»åŠ¡æ‰§è¡Œå®Œæˆåï¼Œä¼šå¾ªç¯è°ƒç”¨è¯¥é˜Ÿåˆ—ä»»åŠ¡ä¸­çš„ä¸‹ä¸€ä¸ªä»»åŠ¡æ¥æ‰§è¡Œï¼Œç›´åˆ°è¯¥ä»»åŠ¡é˜Ÿåˆ—åˆ°æœ€åä¸€ä¸ªä»»åŠ¡ä¸ºæ­¢ã€‚è€Œäº‹ä»¶å¾ªç¯æ¯æ¬¡åªä¼šå…¥æ ˆä¸€ä¸ªå®ä»»åŠ¡,ä¸»çº¿ç¨‹æ‰§è¡Œå®Œæˆè¯¥ä»»åŠ¡ååˆä¼šæ£€æŸ¥å¾®ä»»åŠ¡é˜Ÿåˆ—å¹¶å®Œæˆé‡Œé¢çš„æ‰€æœ‰ä»»åŠ¡åå†æ‰§è¡Œå®ä»»åŠ¡é˜Ÿåˆ—çš„ä»»åŠ¡ã€‚&lt;/p>
&lt;p>å®ä»»åŠ¡ï¼šsetTimeOutã€setIntervalã€setImmediateã€IOã€UI æ¸²æŸ“ã€ä¸» JSã€requestAnimationFrame ç­‰ã€‚&lt;/p>
&lt;p>å¾®ä»»åŠ¡ï¼šprocess.nextTickã€promise.then()ï¼ŒObject.observe()ç­‰&lt;/p>
&lt;h2 id="30-å›¾ç‰‡æ‡’åŠ è½½å’Œé¢„åŠ è½½">
&lt;a href="#30-%e5%9b%be%e7%89%87%e6%87%92%e5%8a%a0%e8%bd%bd%e5%92%8c%e9%a2%84%e5%8a%a0%e8%bd%bd" class="header-anchor">#&lt;/a>
30 å›¾ç‰‡æ‡’åŠ è½½å’Œé¢„åŠ è½½
&lt;/h2>
&lt;ol>
&lt;li>
&lt;p>æ‡’åŠ è½½ï¼šè¿Ÿç¼“åŠ è½½ç”šè‡³ä¸åŠ è½½ã€‚ï¼ˆå‡å°‘æœåŠ¡å™¨çš„å‹åŠ›ï¼‰&lt;/p>
&lt;ol>
&lt;li>å®ç°æ–¹æ³•ï¼šå›¾ç‰‡åœ°å€ä¸æ”¾åœ¨ srcï¼Œè€Œæ˜¯æ”¾åœ¨å…¶å®ƒå±æ€§ï¼Œé¡µé¢åŠ è½½åï¼Œæ ¹æ® scrollTop åˆ¤æ–­å›¾ç‰‡æ˜¯å¦åœ¨ç”¨æˆ·è§†é‡å†…ï¼Œå¦‚æœåœ¨ï¼Œåˆ™å°† data-original å±æ€§ä¸­çš„å€¼æ”¾åœ¨ srcã€‚åœ¨æ»šåŠ¨äº‹ä»¶ä¸­é‡å¤åˆ¤æ–­å›¾ç‰‡æ˜¯å¦è¿›å…¥è§†é‡ã€‚&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>
&lt;p>é¢„åŠ è½½ï¼šæå‰åŠ è½½å›¾ç‰‡ï¼Œå½“ç”¨æˆ·éœ€è¦æŸ¥çœ‹æ—¶ç›´æ¥ä»æœ¬åœ°ç¼“å­˜ä¸­æ¸²æŸ“ã€‚ï¼ˆä¼šå¢å¤§æœåŠ¡å™¨çš„å‹åŠ›ï¼‰&lt;/p>
&lt;ol>
&lt;li>
&lt;p>CSS å®ç°ï¼šbackgroundï¼šurl()&lt;/p>
&lt;/li>
&lt;li>
&lt;p>JS å®ç°ï¼š&lt;/p>
&lt;pre>&lt;code class="language-javascript">const img = new Image();
img.src = 'xxx';
&lt;/code>&lt;/pre>
&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ol>
&lt;h2 id="31-new-æ“ä½œç¬¦">
&lt;a href="#31-new-%e6%93%8d%e4%bd%9c%e7%ac%a6" class="header-anchor">#&lt;/a>
31 new æ“ä½œç¬¦
&lt;/h2>
&lt;p>new æ“ä½œç¬¦æ–°å»ºäº†ä¸€ä¸ªç©ºå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡åŸå‹æŒ‡å‘æ„é€ å‡½æ•°çš„ prototypeï¼Œæ‰§è¡Œæ„é€ å‡½æ•°åè¿”å›è¿™ä¸ªå¯¹è±¡&lt;/p>
&lt;ul>
&lt;li>
&lt;p>å®ç°ä¸€ä¸ª new çš„æ–¹æ³•ï¼š&lt;/p>
&lt;pre>&lt;code class="language-javascript">function Animal(){...}
//var a = new Animal();
function myNew(){
let obj = {}
let Constructor = [].shifit.apply(arguments);
//ç»‘å®šåŸå‹
obj.__proto__ = Constructor.prototype;
//è°ƒç”¨æ„é€ å‡½æ•°
let res = Constructor.apply(obj, arguments);
return typeof res === 'object' ? res : obj;
}
&lt;/code>&lt;/pre>
&lt;/li>
&lt;/ul>
&lt;h2 id="32-bindapplycall-çš„åŒºåˆ«">
&lt;a href="#32-bindapplycall-%e7%9a%84%e5%8c%ba%e5%88%ab" class="header-anchor">#&lt;/a>
32 bindã€applyã€call çš„åŒºåˆ«
&lt;/h2>
&lt;ol>
&lt;li>apply å’Œ call ç”¨æ¥æ”¹å˜å‡½æ•°çš„ this æŒ‡å‘ï¼Œå®ƒä»¬ä¸¤ä¸ªå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°éƒ½æ˜¯ä¸€æ ·çš„ï¼Œè¡¨ç¤ºè¦æ”¹å˜æŒ‡å‘çš„é‚£ä¸ªå¯¹è±¡ï¼Œç¬¬äºŒä¸ªå‚æ•°ï¼Œapply ä¸­æ˜¯æ•°ç»„ï¼Œè€Œ call æ˜¯ arg1,arg2&amp;hellip;çš„å½¢å¼ã€‚&lt;/li>
&lt;li>bind æ”¹å˜ this ä½œç”¨åŸŸä¼šè¿”å›ä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°ä¸ä¼šç«‹å³æ‰§è¡Œã€‚&lt;/li>
&lt;/ol>
&lt;h2 id="33-èŠ‚æµå’Œé˜²æŠ–">
&lt;a href="#33-%e8%8a%82%e6%b5%81%e5%92%8c%e9%98%b2%e6%8a%96" class="header-anchor">#&lt;/a>
33 èŠ‚æµå’Œé˜²æŠ–
&lt;/h2>
&lt;ol>
&lt;li>
&lt;p>é˜²æŠ–ï¼šæŒç»­æ‹–åŠ¨æ»šåŠ¨æ¡ï¼Œåªè¦ä¸åœæ­¢è§¦å‘ï¼Œå°±æ°¸è¿œä¸ä¼šæœ‰è¾“å‡ºã€‚çŸ­æ—¶é—´å†…è§¦å‘çš„äº‹ä»¶ï¼Œåœ¨æŸä¸ªæ—¶é—´æœŸé™å†…ï¼Œå‡½æ•°åªæ‰§è¡Œä¸€æ¬¡ã€‚&lt;/p>
&lt;pre>&lt;code class="language-javascript">function debounce(func, wait){
var timeout;
return function(){
clearTimeout(timeout);
timeout = setTimeout(func,wait);
}
}
&lt;/code>&lt;/pre>
&lt;/li>
&lt;li>
&lt;p>èŠ‚æµï¼šæŒç»­æ‹–åŠ¨æ»šåŠ¨æ¡ï¼Œæ¯é—´éš”ä¸€æ®µæ—¶é—´ï¼Œå°±ä¼šè¾“å‡ºåé¦ˆã€‚ç›¸å½“äº&lt;strong>æŠ€èƒ½å†·å´&lt;/strong>ï¼Œæ‰§è¡Œä¹‹åï¼Œå‡½æ•°ä¼šå¤±æ•ˆä¸€æ®µæ—¶é—´ï¼Œå†·å´ä¹‹åï¼Œåˆä¼šæ¢å¤ï¼Œè®¾ç½®ä¸€ä¸ªçŠ¶æ€ä½ï¼Œåˆ¤æ–­æ˜¯å¦å¤„äºå·¥ä½œçŠ¶æ€ã€‚ï¼ˆåœ¨é˜²æŠ–åŸºç¡€ä¸Šï¼Œåˆ°è¾¾æŒ‡å®šäº‹ä»¶å¿…é¡»è¾“å‡ºï¼‰&lt;/p>
&lt;pre>&lt;code class="language-javascript">function throttle(func, wait, mustRun){
var timeout, start = new Data();
return function(){
var context = this, args = arguments;
var cur = new Data();
clearTimeout(timeout);
if (cur - start &amp;gt;= mustRun){
func.apply(context, args);
start = cur;
} else {
timeout = setTimeout(func, wait);
}
}
}
&lt;/code>&lt;/pre>
&lt;/li>
&lt;/ol>
&lt;h2 id="34-æ·±æ‹·è´">
&lt;a href="#34-%e6%b7%b1%e6%8b%b7%e8%b4%9d" class="header-anchor">#&lt;/a>
34 æ·±æ‹·è´
&lt;/h2>
&lt;ol>
&lt;li>
&lt;p>ç®€å•æ·±æ‹·è´ï¼šJSON åºåˆ—åŒ–å’Œååºåˆ—åŒ–&lt;/p>
&lt;pre>&lt;code class="language-javascript">function deepCopy(obj){
let __obj = JSON.stringify(obj);
return JSON.parse(_obj);
}
&lt;/code>&lt;/pre>
&lt;/li>
&lt;li>
&lt;p>é€’å½’æ–¹æ³•ï¼š&lt;/p>
&lt;pre>&lt;code class="language-javascript">function deepCopy(obj){
let res;
if (typeof obj === 'Object'){
if (Array.isArray(obj)){
res = []
for (let i in obj){
res.push(deepCopy(obj[i]))
}
} else if (obj == null){
res = null;
} else if (obj.constructor === 'RegExp'){
res = obj;
} else {
res = {}
for (let i in obj){
res[i] = deepCopy(obj[i])
}
}
} else {
res = obj;
}
return res;
}
&lt;/code>&lt;/pre>
&lt;/li>
&lt;/ol>
&lt;h2 id="35-å¯¹è±¡å±æ€§æ”¹å˜ç›‘å¬-proxy">
&lt;a href="#35-%e5%af%b9%e8%b1%a1%e5%b1%9e%e6%80%a7%e6%94%b9%e5%8f%98%e7%9b%91%e5%90%ac-proxy" class="header-anchor">#&lt;/a>
35 å¯¹è±¡å±æ€§æ”¹å˜ç›‘å¬-Proxy
&lt;/h2>
&lt;ul>
&lt;li>
&lt;p>ç¤ºä¾‹&lt;/p>
&lt;pre>&lt;code class="language-javascript">var user = new Proxy({}, {
set:function(target,key,value,receiver){
}
})
&lt;/code>&lt;/pre>
&lt;/li>
&lt;/ul>
&lt;h2 id="36-å˜é‡æå‡å’Œæš‚æ—¶æ€§æ­»åŒº">
&lt;a href="#36-%e5%8f%98%e9%87%8f%e6%8f%90%e5%8d%87%e5%92%8c%e6%9a%82%e6%97%b6%e6%80%a7%e6%ad%bb%e5%8c%ba" class="header-anchor">#&lt;/a>
36 å˜é‡æå‡å’Œæš‚æ—¶æ€§æ­»åŒº
&lt;/h2>
&lt;ol>
&lt;li>
&lt;p>å˜é‡æå‡ï¼švar å®šä¹‰å˜é‡ï¼Œå˜é‡å¯ä»¥åœ¨å£°æ˜å‰ä½¿ç”¨ï¼Œå€¼ä¸º undefinedï¼›let ä¸ä¼šå‡ºç°è¿™ä¸ªæƒ…å†µã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>æš‚æ—¶æ€§æ­»åŒº TDZï¼šåªè¦ä¸€è¿›å…¥å½“å‰ä½œç”¨åŸŸï¼Œæ‰€è¦ä½¿ç”¨çš„å˜é‡å°±å·²ç»å­˜åœ¨äº†ï¼Œä½†æ˜¯ä¸å¯è·å–ï¼Œåªæœ‰ç­‰å¾…å˜é‡å£°æ˜çš„é‚£ä¸€è¡Œä»£ç å‡ºç°ï¼Œæ‰å¯ä»¥è·å–å’Œä½¿ç”¨è¯¥å˜é‡ã€‚&lt;/p>
&lt;p>&lt;strong>åªè¦å—çº§ä½œç”¨åŸŸå†…å­˜åœ¨ let å’Œ const å‘½ä»¤ï¼Œå®ƒæ‰€å£°æ˜çš„å˜é‡å°±ä¼šç»‘å®šè¿™ä¸ªåŒºåŸŸï¼Œä¸å†å—å¤–éƒ¨å½±å“ã€‚&lt;/strong>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;h2 id="37-ç®­å¤´å‡½æ•°">
&lt;a href="#37-%e7%ae%ad%e5%a4%b4%e5%87%bd%e6%95%b0" class="header-anchor">#&lt;/a>
37 ç®­å¤´å‡½æ•°
&lt;/h2>
&lt;ol>
&lt;li>
&lt;p>åŸºæœ¬è¯­æ³•&lt;/p>
&lt;pre>&lt;code class="language-javascript">let func = value=&amp;gt;value;
//aka
let func = function(value){
return value;
};
&lt;/code>&lt;/pre>
&lt;/li>
&lt;li>
&lt;p>ä¸æ™®é€šå‡½æ•°çš„åŒºåˆ«&lt;/p>
&lt;ol>
&lt;li>ç®­å¤´å‡½æ•°æ²¡æœ‰ thisï¼Œå¦‚æœæ™®é€šå‡½æ•°åŒ…å«ç®­å¤´å‡½æ•°ï¼Œé‚£ä¹ˆ this è®¿é—®çš„å°±æ˜¯æœ€è¿‘ä¸€å±‚æ™®é€šå‡½æ•°çš„ this&lt;/li>
&lt;li>ç®­å¤´å‡½æ•°æ˜¯åŒ¿åå‡½æ•°ï¼Œä¸èƒ½ä½œä¸ºæ„é€ å‡½æ•°ï¼Œä¸èƒ½ä½¿ç”¨ new&lt;/li>
&lt;li>ç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„ arguments å‚æ•°ï¼Œè™½ç„¶æœ‰ name å±æ€§ä½†æ˜¯æ˜¯ç©ºå­—ç¬¦ä¸²ï¼Œç”¨&amp;hellip;æ‰©å±•è¿ç®—ç¬¦ã€‚&lt;/li>
&lt;li>ç®­å¤´å‡½æ•°é€šè¿‡ call()æˆ– apply()æ–¹æ³•è°ƒç”¨ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œåªä¼ å…¥äº†ä¸€ä¸ªå‚æ•°ï¼Œå¯¹ this å¹¶æ²¡æœ‰å½±å“ã€‚&lt;/li>
&lt;li>ç®­å¤´å‡½æ•°æ²¡æœ‰åŸå‹å±æ€§ prototype&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ol>
&lt;h2 id="38-åŸå‹é“¾">
&lt;a href="#38-%e5%8e%9f%e5%9e%8b%e9%93%be" class="header-anchor">#&lt;/a>
38 åŸå‹é“¾
&lt;/h2>
&lt;ol>
&lt;li>
&lt;p>åŸå‹ï¼šprototypeï¼Œæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä½œç”¨æ˜¯å…±äº«å±æ€§å’Œæ–¹æ³•&lt;/p>
&lt;/li>
&lt;li>
&lt;p>åŸå‹é“¾ï¼šåŸå‹ä¸åŸå‹å±‚å±‚è¿æ¥çš„è¿‡ç¨‹å³ä¸ºåŸå‹é“¾&lt;/p>
&lt;p>å‡è®¾ B ç»§æ‰¿äº† Aï¼Œb æ˜¯ B çš„å®ä¾‹ï¼Œé‚£ä¹ˆå°±æœ‰ä»¥ä¸‹å…³ç³»ï¼š&lt;/p>
&lt;p>ï¼ˆ1ï¼‰&lt;/p>
&lt;pre>&lt;code class="language-javascript">b.__proto__ = B.prototype
&lt;/code>&lt;/pre>
&lt;p>ï¼ˆ2ï¼‰B.prototype.constructor = Bï¼ŒA.prototype.constructor = A&lt;/p>
&lt;p>ï¼ˆ3ï¼‰&lt;/p>
&lt;pre>&lt;code class="language-javascript">B.__proto__ = A
&lt;/code>&lt;/pre>
&lt;p>ï¼ˆ4ï¼‰&lt;/p>
&lt;pre>&lt;code class="language-javascript">B.prototype.__proto__ = A.prototype
&lt;/code>&lt;/pre>
&lt;/li>
&lt;/ol>
&lt;h2 id="39-es6-æ–°ç‰¹æ€§">
&lt;a href="#39-es6-%e6%96%b0%e7%89%b9%e6%80%a7" class="header-anchor">#&lt;/a>
39 ES6 æ–°ç‰¹æ€§
&lt;/h2>
&lt;ol>
&lt;li>letï¼ˆè§£å†³äº†å˜é‡æå‡ï¼‰ã€ const å¸¸é‡ï¼Œå—çº§ä½œç”¨åŸŸï¼ˆæš‚æ—¶æ€§æ­»åŒºï¼‰ã€‚&lt;/li>
&lt;li>æ¨¡æ¿å­—ç¬¦ä¸²ï¼šâ€œxxx${}â€&lt;/li>
&lt;li>ç®­å¤´å‡½æ•°&lt;/li>
&lt;li>å¯¹è±¡ï¼Œæ•°ç»„è§£æ„èµ‹å€¼&lt;/li>
&lt;li>for in å’Œ for of&lt;/li>
&lt;li>class ç±»&lt;/li>
&lt;li>extend ç±»ç»§æ‰¿&lt;/li>
&lt;/ol>
&lt;h2 id="40-å‚ç›´å±…ä¸­çš„æ–¹æ³•">
&lt;a href="#40-%e5%9e%82%e7%9b%b4%e5%b1%85%e4%b8%ad%e7%9a%84%e6%96%b9%e6%b3%95" class="header-anchor">#&lt;/a>
40 å‚ç›´å±…ä¸­çš„æ–¹æ³•
&lt;/h2>
&lt;ol>
&lt;li>marginï¼šautoï¼Œleftã€rightã€topã€bottom å…¨è®¾ä¸º 0&lt;/li>
&lt;li>displayï¼šflexï¼Œalign-items:centerï¼Œjustify-content:center;&lt;/li>
&lt;/ol>
&lt;h2 id="41-å‰ç«¯æ€§èƒ½ä¼˜åŒ–">
&lt;a href="#41-%e5%89%8d%e7%ab%af%e6%80%a7%e8%83%bd%e4%bc%98%e5%8c%96" class="header-anchor">#&lt;/a>
41 å‰ç«¯æ€§èƒ½ä¼˜åŒ–
&lt;/h2>
&lt;ol>
&lt;li>é™ä½è¯·æ±‚é‡ï¼šåˆå¹¶èµ„æºã€å‡å°‘ HTTP è¯·æ±‚æ•°ã€minify/gzip å‹ç¼©ï¼ŒwebPï¼Œæ‡’åŠ è½½&lt;/li>
&lt;li>åŠ å¿«è¯·æ±‚é€Ÿåº¦ï¼šé¢„è§£æ DNSã€å‡å°‘åŸŸåæ•°ã€å¹¶è¡ŒåŠ è½½ã€CDN åˆ†å‘&lt;/li>
&lt;li>ç¼“å­˜ï¼šHTTP åè®®ç¼“å­˜è¯·æ±‚ã€ç¦»çº¿ç¼“å­˜ manifestã€ç¦»çº¿æ•°æ®ç¼“å­˜ localStorage&lt;/li>
&lt;li>æ¸²æŸ“ï¼šJS/CSS ä¼˜åŒ–ï¼ŒåŠ è½½é¡ºåºï¼ŒæœåŠ¡ç«¯æ¸²æŸ“ï¼Œpipeline&lt;/li>
&lt;/ol>
&lt;h2 id="42-get-å’Œ-post-çš„åŒºåˆ«">
&lt;a href="#42-get-%e5%92%8c-post-%e7%9a%84%e5%8c%ba%e5%88%ab" class="header-anchor">#&lt;/a>
42 get å’Œ post çš„åŒºåˆ«
&lt;/h2>
&lt;ol>
&lt;li>get å‚æ•°é€šè¿‡ url ä¼ é€’ï¼Œpost æ”¾åœ¨ request body ä¸­&lt;/li>
&lt;li>get è¯·æ±‚åœ¨ url ä¸­ä¼ é€’çš„å‚æ•°æœ‰é•¿åº¦é™åˆ¶ï¼Œpost æ²¡æœ‰&lt;/li>
&lt;li>get å‚æ•°æš´éœ²åœ¨ urlï¼Œä¸å®‰å…¨ã€‚&lt;/li>
&lt;li>get è¯·æ±‚åªèƒ½è¿›è¡Œ url ç¼–ç ï¼Œpost æ”¯æŒå¤šç§ç¼–ç æ–¹å¼&lt;/li>
&lt;li>get è¯·æ±‚æµè§ˆå™¨ä¼šä¸»åŠ¨ç¼“å­˜ã€‚&lt;/li>
&lt;li>get è¯·æ±‚å‚æ•°ä¼šè¢«å®Œæ•´ä¿ç•™åœ¨æµè§ˆå†å²è®°å½•ã€‚&lt;/li>
&lt;li>get ç”¨æ¥è·å–èµ„æºï¼Œpost ç”¨æ¥å¢åŠ æˆ–æ›´æ–°èµ„æºã€‚&lt;/li>
&lt;/ol>
&lt;h2 id="43-web-worker">
&lt;a href="#43-web-worker" class="header-anchor">#&lt;/a>
43 web worker
&lt;/h2>
&lt;p>åœ¨ HTML é¡µé¢ä¸­ï¼Œå¦‚æœåœ¨æ‰§è¡Œè„šæœ¬æ—¶ï¼Œé¡µé¢çš„çŠ¶æ€æ˜¯ä¸å¯å“åº”çš„ï¼Œç›´åˆ°è„šæœ¬æ‰§è¡Œå®Œæˆåï¼Œé¡µé¢æ‰å˜æˆå¯å“åº”ã€‚web worker æ˜¯è¿è¡Œåœ¨åå°çš„ jsï¼Œç‹¬ç«‹äºå…¶ä»–è„šæœ¬ï¼Œä¸ä¼šå½±å“é¡µé¢ä½ çš„æ€§èƒ½ã€‚å¹¶ä¸”é€šè¿‡ postMessage å°†ç»“æœå›ä¼ åˆ°ä¸»çº¿ç¨‹ã€‚è¿™æ ·åœ¨è¿›è¡Œå¤æ‚æ“ä½œçš„æ—¶å€™ï¼Œå°±ä¸ä¼šé˜»å¡ä¸»çº¿ç¨‹äº†ã€‚&lt;/p>
&lt;p>å¦‚ä½•åˆ›å»º web workerï¼š&lt;/p>
&lt;p>æ£€æµ‹æµè§ˆå™¨å¯¹äº web worker çš„æ”¯æŒæ€§&lt;/p>
&lt;p>åˆ›å»º web worker æ–‡ä»¶ï¼ˆjsï¼Œå›ä¼ å‡½æ•°ç­‰ï¼‰&lt;/p>
&lt;p>åˆ›å»º web worker å¯¹è±¡&lt;/p>
&lt;h2 id="44-æµ®åŠ¨æ¸…é™¤">
&lt;a href="#44-%e6%b5%ae%e5%8a%a8%e6%b8%85%e9%99%a4" class="header-anchor">#&lt;/a>
44 æµ®åŠ¨æ¸…é™¤
&lt;/h2>
&lt;ol>
&lt;li>overflow:hidden/auto&lt;/li>
&lt;li>ç»™æµ®åŠ¨çš„å…ƒç´ çš„å®¹å™¨æ·»åŠ æµ®åŠ¨&lt;/li>
&lt;/ol>
&lt;h2 id="45-css-é€‰æ‹©å™¨">
&lt;a href="#45-css-%e9%80%89%e6%8b%a9%e5%99%a8" class="header-anchor">#&lt;/a>
45 CSS é€‰æ‹©å™¨
&lt;/h2>
&lt;p>ID é€‰æ‹©å™¨ã€Class é€‰æ‹©å™¨ã€æ ‡ç­¾é€‰æ‹©å™¨ã€ä¼ªå…ƒç´ é€‰æ‹©å™¨ã€ä¼ªç±»é€‰æ‹©å™¨&lt;/p>
&lt;p>ä¼˜å…ˆçº§ï¼š&lt;/p>
&lt;ol>
&lt;li>å¼•å…¥äº†åŒç±»çš„é€‰æ‹©å™¨ï¼šæ’åœ¨åé¢çš„æ ·å¼å±æ€§ä¼˜å…ˆ&lt;/li>
&lt;li>å¼•å…¥äº†ä¸åŒçš„é€‰æ‹©å™¨ï¼šid&amp;gt;class&amp;gt;æ ‡ç­¾&lt;/li>
&lt;/ol></description></item></channel></rss>